{"version":3,"file":"static/js/8995.587b5ae9.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/2d/engine/webgl/AttributeStoreView.js","../node_modules/@arcgis/core/views/2d/engine/AFeatureContainer.js","../node_modules/@arcgis/core/views/2d/engine/webgl/TileContainer.js","../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/TechniqueInstance.js","../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/GraphicInstanceStore.js","../node_modules/@arcgis/core/views/2d/layers/graphics/GraphicBoundsRenderer.js","../node_modules/@arcgis/core/views/2d/layers/graphics/AGraphicContainer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport t from\"../../../../core/Error.js\";import has from\"../../../../core/has.js\";import e from\"../../../../core/Logger.js\";import{createResolver as i}from\"../../../../core/promiseUtils.js\";import{AttributeDataType as s,filterFlagsUnit as r,animationUnit as n,gpgpuUnit as a,visualVariableUnit as o,dataDrivenUnit0 as u,dataDrivenUnit1 as h,dataDrivenUnit2 as d}from\"./definitions.js\";import{getDisplayIdTexel as l}from\"./DisplayId.js\";import{getPixelArrayCtor as p,getPixelBytes as c}from\"./Utils.js\";import{TextureWrapMode as _,TextureSamplingMode as g}from\"../../../webgl/enums.js\";import{FramebufferObject as x}from\"../../../webgl/FramebufferObject.js\";import{Texture as f}from\"../../../webgl/Texture.js\";import{TextureDescriptor as b}from\"../../../webgl/TextureDescriptor.js\";const T=()=>e.getLogger(\"esri.views.2d.engine.webgl.AttributeStoreView\");class m{constructor(t,e,i){this._texture=null,this._lastTexture=null,this._fbos={},this.texelSize=4;const{buffer:s,pixelType:r,textureOnly:n}=t,a=p(r);this.blockIndex=i,this.pixelType=r,this.size=e,this.textureOnly=n,n||(this.data=new a(s)),this._resetRange()}destroy(){this._texture?.dispose();for(const t in this._fbos){const e=this._fbos[t];e&&(\"0\"===t&&e.detachColorTexture(),e.dispose()),this._fbos[t]=null}this._texture=null}get _textureDesc(){const t=new b;return t.wrapMode=_.CLAMP_TO_EDGE,t.samplingMode=g.NEAREST,t.dataType=this.pixelType,t.width=this.size,t.height=this.size,t}setData(t,e,i){const s=l(t),r=this.data,n=s*this.texelSize+e;!r||n>=r.length||(r[n]=i,this.dirtyStart=Math.min(this.dirtyStart,s),this.dirtyEnd=Math.max(this.dirtyEnd,s))}getData(t,e){if(null==this.data)return null;const i=l(t)*this.texelSize+e;return!this.data||i>=this.data.length?null:this.data[i]}getTexture(t){return this._texture??this._initTexture(t)}getFBO(t,e=0){if(!this._fbos[e]){const i=0===e?this.getTexture(t):this._textureDesc;this._fbos[e]=new x(t,i)}return this._fbos[e]}get hasDirty(){const t=this.dirtyStart;return this.dirtyEnd>=t}updateTexture(e,i){try{const s=this.dirtyStart,r=this.dirtyEnd;if(!this.hasDirty)return;has(\"esri-2d-update-debug\")&&console.debug(`Version[${i}] AttributeStoreView.updateTexture`,{start:s,end:r,firstBytes:new Uint8Array(this.data.buffer.slice(0,16)),block:this}),this._resetRange();const n=this.data.buffer,a=this.getTexture(e),o=4,u=(s-s%this.size)/this.size,h=(r-r%this.size)/this.size,d=u,l=this.size,c=h,_=u*this.size*o,g=(l+c*this.size)*o-_,x=p(this.pixelType),f=new x(n,_*x.BYTES_PER_ELEMENT,g),b=this.size,m=c-d+1;if(m>this.size)return void T().error(new t(\"mapview-webgl\",\"Out-of-bounds index when updating AttributeData\"));a.updateData(0,0,d,b,m,f)}catch(s){}}update(t){const{data:e,start:i,end:s}=t;if(null!=e&&null!=this.data){const s=this.data,r=i*this.texelSize;for(let i=0;i<e.length;i++){const n=1<<i%this.texelSize;t.layout&n&&(s[r+i]=e[i])}}this.dirtyStart=Math.min(this.dirtyStart,i),this.dirtyEnd=Math.max(this.dirtyEnd,s)}resize(t,e){const i=this.size;if(this.size=e,this.textureOnly)return void(i!==this.size&&(this._lastTexture=this._texture,this._texture=null));const s=p(this.pixelType);this.destroy(),this.data=new s(t.buffer)}_resetRange(){this.dirtyStart=2147483647,this.dirtyEnd=0}_initTexture(t){const e=new f(t,this._textureDesc,this.data??void 0);if(null!=this._lastTexture&&this._fbos[0]){const i=this._lastTexture.descriptor.width,s=this._lastTexture.descriptor.height,r=this._lastTexture.descriptor.dataType,n=this._lastTexture.descriptor.pixelFormat,a=this.getFBO(t),o=c(r),u=new(p(r))(new ArrayBuffer(i*s*o*this.texelSize)),h=t.getBoundFramebufferObject(),{x:d,y:l,width:_,height:g}=t.getViewport();t.bindFramebuffer(a),a.readPixels(0,0,i,s,n,r,u),e.updateData(0,0,0,2*i,s/2,u),t.setViewport(d,l,_,g),t.bindFramebuffer(h)}return this.destroy(),this._texture=e,this._texture}}class y{constructor(){this.size=0,this._pendingAttributeUpdates=[],this._version=0,this._epoch=0,this._locked=!1}_initialize(t){if(!t)throw new Error(\"InternalError: initArgs must be defined\");const e=t.blockDescriptors;if(this.size=t.blockSize,has(\"esri-2d-update-debug\")&&console.debug(\"AttributeStoreView.initialize\",{message:t}),null==this._data)this._data=e.map(((t,e)=>null!=t?new m(t,this.size,e):null));else for(let i=0;i<this._data.length;i++){const t=this._data[i],s=e[i];null!=s&&(null==t?this._data[i]=new m(s,this.size,i):t.resize(s,this.size))}}destroy(){for(const t of this._data??[])t?.destroy();this._defaultTexture?.dispose();for(const{resolver:t}of this._pendingAttributeUpdates)t.reject(\"AttributeStore destroyed\");this._pendingAttributeUpdates=[]}isEmpty(){return null==this._data}getBlock(t){if(null==this._data)return null;return this._data[t]}setLabelMinZoom(t,e){this.setData(t,0,1,e)}getLabelMinZoom(t){return this.getData(t,0,1,255)}getFilterFlags(t){return this.getData(t,0,0,0)}getVVSize(t){return this.getData(t,s.VV,0,0)}getData(t,e,i,s){if(!this._data)return 0;const r=this._data[e];if(null==r)return 0;const n=r.getData(t,i);return null!=n?n:s}setData(t,e,i,s){this._data[e].setData(t,i,s)}lockTextureUploads(){this._locked=!0}unlockTextureUploads(){this._locked=!1,this.update()}async requestUpdate(t){const e=i();e.promise=e.promise.catch((t=>{has(\"esri-2d-update-debug\")&&console.error(\"AttributeStoreView.requestUpdate rejected\",t)})),this._version=t.version,this._pendingAttributeUpdates.push({inner:t,resolver:e}),has(\"esri-2d-update-debug\")&&console.debug(`Version[${this._version}] AttributeStoreView.requestUpdate`,{message:t})}get currentEpoch(){return this._epoch}update(){if(this._locked)return;const t=this._pendingAttributeUpdates;this._pendingAttributeUpdates=[];for(const{inner:e,resolver:i}of t){const{blockData:t,initArgs:s,sendUpdateEpoch:r,version:n}=e;has(\"esri-2d-update-debug\")&&console.debug(`Version[${this._version}] Epoch[${r}] AttributeStoreView.applyUpdate`),this._version=n,this._epoch=r,null!=s&&this._initialize(s);const a=this._data;for(let e=0;e<t.length;e++){const i=t[e],s=a[e];null!=s&&null!=i&&(has(\"esri-2d-update-debug\")&&console.debug(`Version[${this._version}] CpuBlock[${e}] AttributeStoreView.update`,{block:i}),s.update(i))}i.resolve()}}getUniforms(t){return{filterFlags:{texture:this._getTexture(t,s.FilterFlags),unit:r},animation:{texture:this._getTexture(t,s.Animation),unit:n},gpgpu:{texture:this._getTexture(t,s.GPGPU),unit:a},visualVariableData:{texture:this._getTexture(t,s.VV),unit:o},dataDriven0:{texture:this._getTexture(t,s.DD0),unit:u},dataDriven1:{texture:this._getTexture(t,s.DD1),unit:h},dataDriven2:{texture:this._getTexture(t,s.DD2),unit:d},size:this.size}}_getTexture(t,e){const i=this._data?.[e];return i?(i.updateTexture(t,this._version),i.getTexture(t)):this._getDefaultTexture(t)}_getDefaultTexture(t){if(null==this._defaultTexture){const e=new b;e.wrapMode=_.CLAMP_TO_EDGE,e.samplingMode=g.NEAREST,e.width=1,e.height=1,this._defaultTexture=new f(t,e,new Uint8Array(4))}return this._defaultTexture}}export{y as AttributeStoreView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{AttributeStoreView as e}from\"./webgl/AttributeStoreView.js\";import t from\"./webgl/TileContainer.js\";class r extends t{constructor(t){super(t),this._statisticsByLevel=new Map,this.attributeView=new e}destroy(){this.children.forEach((e=>e.destroy())),this.removeAllChildren(),this.attributeView.destroy()}doRender(e){e.context.capabilities.enable(\"textureFloat\"),super.doRender(e)}createRenderParams(e){const t=super.createRenderParams(e);return t.attributeView=this.attributeView,t.instanceStore=this._instanceStore,t.statisticsByLevel=this._statisticsByLevel,t}}export{r as AFeatureContainer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport has from\"../../../../core/has.js\";import{WGLDrawPhase as e}from\"./enums.js\";import r from\"./WGLContainer.js\";import s from\"./brushes/WGLBrushStencil.js\";import t from\"./brushes/WGLBrushTileDebugInfo.js\";const n=(e,r)=>e.key.level-r.key.level!=0?e.key.level-r.key.level:e.key.row-r.key.row!=0?e.key.row-r.key.row:e.key.col-r.key.col;class i extends r{constructor(e){super(),this._tileInfoView=e}renderChildren(e){this.sortChildren(n),this.setStencilReference(e),super.renderChildren(e)}createRenderParams(e){const{state:r}=e,s=super.createRenderParams(e);return s.requiredLevel=this._tileInfoView.getClosestInfoForScale(r.scale).level,s.displayLevel=this._tileInfoView.tileInfo.scaleToZoom(r.scale),s}prepareRenderPasses(r){const n=super.prepareRenderPasses(r);return n.push(r.registerRenderPass({name:\"stencil\",brushes:[s],drawPhase:e.DEBUG|e.MAP|e.HIGHLIGHT|e.LABEL,target:()=>this.getStencilTarget()})),has(\"esri-tiles-debug\")&&n.push(r.registerRenderPass({name:\"tileInfo\",brushes:[t],drawPhase:e.DEBUG,target:()=>this.children})),n}getStencilTarget(){return this.children}setStencilReference(e){let r=1;for(const s of this.children)s.stencilRef=r++}}export{i as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{castStrictInstanceId as t}from\"./mesh/instanceIdUtils.js\";class i{constructor(t,i,e,s,n){this._instanceId=t,this.techniqueRef=i,this._meshWriterName=e,this._input=s,this.optionalAttributes=n}get instanceId(){return t(this._instanceId)}createMeshInfo(t){return{id:this._instanceId,meshWriterName:this._meshWriterName,options:t,optionalAttributes:this.optionalAttributes}}getInput(){return this._input}setInput(t){this._input=t}}export{i as TechniqueInstance};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{TechniqueInstance as e}from\"./TechniqueInstance.js\";import{Techniques as l}from\"./TechniqueRegistry.js\";import{castInstanceId as i}from\"./mesh/instanceIdUtils.js\";let n=0;function a(l,a,t){return new e(i(n++),l,l.meshWriter.name,a,t)}const t={geometry:{visualVariableColor:null,visualVariableOpacity:null,visualVariableSizeMinMaxValue:null,visualVariableSizeScaleStops:null,visualVariableSizeStops:null,visualVariableSizeUnitValue:null,visualVariableRotation:null}};class s{constructor(){this.instances={fill:a(l.fill,t,{zoomRange:!0}),marker:a(l.marker,t,{zoomRange:!0}),line:a(l.line,t,{zoomRange:!0}),text:a(l.text,t,{zoomRange:!0,referenceSymbol:!1,clipAngle:!1}),complexFill:a(l.complexFill,t,{zoomRange:!0}),texturedLine:a(l.texturedLine,t,{zoomRange:!0})},this._instancesById=Object.values(this.instances).reduce(((e,l)=>(e.set(l.instanceId,l),e)),new Map)}getInstance(e){return this._instancesById.get(e)}}export{s as GraphicInstanceStore};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{disposeMaybe as t}from\"../../../../core/maybe.js\";import{identity as e,multiply as r,translate as i,scale as s,rotate as o}from\"../../../../core/libs/gl-matrix-2/math/mat3.js\";import{create as a}from\"../../../../core/libs/gl-matrix-2/factories/mat3f32.js\";import{fromValues as n}from\"../../../../core/libs/gl-matrix-2/factories/vec2f32.js\";import{fromValues as l}from\"../../../../core/libs/gl-matrix-2/factories/vec3f32.js\";import{normalizeMapX as f}from\"../../../../geometry/support/normalizeUtils.js\";import{DisplayObject as m}from\"../../engine/DisplayObject.js\";import{createProgramDescriptor as c}from\"../../engine/webgl/Utils.js\";import{BufferObject as u}from\"../../../webgl/BufferObject.js\";import{BlendFactor as _,PrimitiveType as h,DataType as d,Usage as p}from\"../../../webgl/enums.js\";import{VertexArrayObject as g}from\"../../../webgl/VertexArrayObject.js\";const v=Math.PI/180,x=4;class b extends m{constructor(t){super(),this._program=null,this._vao=null,this._vertexBuffer=null,this._indexBuffer=null,this._dvsMat3=a(),this._localOrigin={x:0,y:0},this._getBounds=t}destroy(){this._vao&&(this._vao.dispose(),this._vao=null,this._vertexBuffer=null,this._indexBuffer=null),this._program=t(this._program)}doRender(t){const{context:e}=t,r=this._getBounds();if(r.length<1)return;this._createShaderProgram(e),this._updateMatricesAndLocalOrigin(t),this._updateBufferData(e,r),e.setBlendingEnabled(!0),e.setDepthTestEnabled(!1),e.setStencilWriteMask(0),e.setStencilTestEnabled(!1),e.setBlendFunction(_.ONE,_.ONE_MINUS_SRC_ALPHA),e.setColorMask(!0,!0,!0,!0);const i=this._program;e.bindVAO(this._vao),e.useProgram(i),i.setUniformMatrix3fv(\"u_dvsMat3\",this._dvsMat3),e.gl.lineWidth(1),e.drawElements(h.LINES,8*r.length,d.UNSIGNED_INT,0),e.bindVAO()}_createTransforms(){return{displayViewScreenMat3:a()}}_createShaderProgram(t){if(this._program)return;const e=\"precision highp float;\\n        uniform mat3 u_dvsMat3;\\n\\n        attribute vec2 a_position;\\n\\n        void main() {\\n          mediump vec3 pos = u_dvsMat3 * vec3(a_position, 1.0);\\n          gl_Position = vec4(pos.xy, 0.0, 1.0);\\n        }\",r=\"precision mediump float;\\n      void main() {\\n        gl_FragColor = vec4(0.75, 0.0, 0.0, 0.75);\\n      }\";this._program=t.programCache.acquire(e,r,y().attributes)}_updateMatricesAndLocalOrigin(t){const{state:a}=t,{displayMat3:m,size:c,resolution:u,pixelRatio:_,rotation:h,viewpoint:d}=a,p=v*h,{x:g,y:x}=d.targetGeometry,b=f(g,a.spatialReference);this._localOrigin.x=b,this._localOrigin.y=x;const y=_*c[0],B=_*c[1],M=u*y,j=u*B,A=e(this._dvsMat3);r(A,A,m),i(A,A,n(y/2,B/2)),s(A,A,l(c[0]/M,-B/j,1)),o(A,A,-p)}_updateBufferData(t,e){const{x:r,y:i}=this._localOrigin,s=2*x*e.length,o=new Float32Array(s),a=new Uint32Array(8*e.length);let n=0,l=0;for(const f of e)f&&(o[2*n]=f[0]-r,o[2*n+1]=f[1]-i,o[2*n+2]=f[0]-r,o[2*n+3]=f[3]-i,o[2*n+4]=f[2]-r,o[2*n+5]=f[3]-i,o[2*n+6]=f[2]-r,o[2*n+7]=f[1]-i,a[l]=n+0,a[l+1]=n+3,a[l+2]=n+3,a[l+3]=n+2,a[l+4]=n+2,a[l+5]=n+1,a[l+6]=n+1,a[l+7]=n+0,n+=4,l+=8);if(this._vertexBuffer?this._vertexBuffer.setData(o.buffer):this._vertexBuffer=u.createVertex(t,p.DYNAMIC_DRAW,o.buffer),this._indexBuffer?this._indexBuffer.setData(a):this._indexBuffer=u.createIndex(t,p.DYNAMIC_DRAW,a),!this._vao){const e=y();this._vao=new g(t,e.attributes,e.bufferLayouts,{geometry:this._vertexBuffer},this._indexBuffer)}}}const y=()=>c(\"bounds\",{geometry:[{location:0,name:\"a_position\",count:2,type:d.FLOAT}]});export{b as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{destroyMaybe as e}from\"../../../../core/maybe.js\";import{AFeatureContainer as r}from\"../../engine/AFeatureContainer.js\";import{FeatureBatchingStrategy as t}from\"../../engine/webgl/enums.js\";import{GraphicInstanceStore as n}from\"../../engine/webgl/shaderGraph/techniques/GraphicInstanceStore.js\";import s from\"./GraphicBoundsRenderer.js\";class i extends r{constructor(e){super(e),this._instanceStore=new n,this.checkHighlight=()=>!0}destroy(){super.destroy(),this._boundsRenderer=e(this._boundsRenderer)}get instanceStore(){return this._instanceStore}enableRenderingBounds(e){this._boundsRenderer=new s(e),this.requestRender()}get hasHighlight(){return this.checkHighlight()}onTileData(e,r){e.onMessage(r),this.contains(e)||this.addChild(e),this.requestRender()}_renderChildren(e,r){e.selection=r;for(const n of this.children){if(!n.visible)continue;const r=n.getDisplayList(e.drawPhase,this._instanceStore,t.STRICT_ORDER);r?.render(e)}}}export{i as AGraphicContainer};\n"],"names":["m","constructor","t","e","i","this","_texture","_lastTexture","_fbos","texelSize","buffer","s","pixelType","r","textureOnly","n","a","p","blockIndex","size","data","_resetRange","destroy","_this$_texture","dispose","detachColorTexture","_textureDesc","b","wrapMode","_","CLAMP_TO_EDGE","samplingMode","g","NEAREST","dataType","width","height","setData","l","length","dirtyStart","Math","min","dirtyEnd","max","getData","getTexture","_this$_texture2","_initTexture","getFBO","arguments","undefined","x","hasDirty","updateTexture","has","console","debug","concat","start","end","firstBytes","Uint8Array","slice","block","o","u","h","d","c","f","BYTES_PER_ELEMENT","getLogger","error","updateData","update","layout","resize","_this$data","descriptor","pixelFormat","ArrayBuffer","getBoundFramebufferObject","y","getViewport","bindFramebuffer","readPixels","setViewport","_pendingAttributeUpdates","_version","_epoch","_locked","_initialize","Error","blockDescriptors","blockSize","message","_data","map","_this$_defaultTexture","_this$_data","_defaultTexture","resolver","reject","isEmpty","getBlock","setLabelMinZoom","getLabelMinZoom","getFilterFlags","getVVSize","VV","lockTextureUploads","unlockTextureUploads","requestUpdate","promise","catch","version","push","inner","currentEpoch","blockData","initArgs","sendUpdateEpoch","resolve","getUniforms","filterFlags","texture","_getTexture","FilterFlags","unit","animation","Animation","gpgpu","GPGPU","visualVariableData","dataDriven0","DD0","dataDriven1","DD1","dataDriven2","DD2","_this$_data2","_getDefaultTexture","super","_statisticsByLevel","Map","attributeView","children","forEach","removeAllChildren","doRender","context","capabilities","enable","createRenderParams","instanceStore","_instanceStore","statisticsByLevel","key","level","row","col","_tileInfoView","renderChildren","sortChildren","setStencilReference","state","requiredLevel","getClosestInfoForScale","scale","displayLevel","tileInfo","scaleToZoom","prepareRenderPasses","registerRenderPass","name","brushes","drawPhase","DEBUG","MAP","HIGHLIGHT","LABEL","target","getStencilTarget","stencilRef","_instanceId","techniqueRef","_meshWriterName","_input","optionalAttributes","instanceId","createMeshInfo","id","meshWriterName","options","getInput","setInput","meshWriter","geometry","visualVariableColor","visualVariableOpacity","visualVariableSizeMinMaxValue","visualVariableSizeScaleStops","visualVariableSizeStops","visualVariableSizeUnitValue","visualVariableRotation","instances","fill","zoomRange","marker","line","text","referenceSymbol","clipAngle","complexFill","texturedLine","_instancesById","Object","values","reduce","set","getInstance","get","v","PI","_program","_vao","_vertexBuffer","_indexBuffer","_dvsMat3","_localOrigin","_getBounds","_createShaderProgram","_updateMatricesAndLocalOrigin","_updateBufferData","setBlendingEnabled","setDepthTestEnabled","setStencilWriteMask","setStencilTestEnabled","setBlendFunction","ONE","ONE_MINUS_SRC_ALPHA","setColorMask","bindVAO","useProgram","setUniformMatrix3fv","gl","lineWidth","drawElements","LINES","UNSIGNED_INT","_createTransforms","displayViewScreenMat3","programCache","acquire","attributes","displayMat3","resolution","pixelRatio","rotation","viewpoint","targetGeometry","spatialReference","B","M","j","A","Float32Array","Uint32Array","createVertex","DYNAMIC_DRAW","createIndex","bufferLayouts","location","count","type","FLOAT","checkHighlight","_boundsRenderer","enableRenderingBounds","requestRender","hasHighlight","onTileData","onMessage","contains","addChild","_renderChildren","selection","visible","getDisplayList","STRICT_ORDER","render"],"sourceRoot":""}