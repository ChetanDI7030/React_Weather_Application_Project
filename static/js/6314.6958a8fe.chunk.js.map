{"version":3,"file":"static/js/6314.6958a8fe.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/core/devEnvironmentUtils.js","../node_modules/@arcgis/core/support/featureFlags.js","../node_modules/@arcgis/core/symbols/support/symbolConversion.js","../node_modules/@arcgis/core/symbols/support/jsonUtils.js","../node_modules/@arcgis/core/symbols/support/styleUtils.js","../node_modules/@arcgis/core/symbols/support/webStyleSymbolUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nfunction c(c){return c=c||globalThis.location.hostname,l.some((a=>null!=c?.match(a)))}function a(c,a){return c&&(a=a||globalThis.location.hostname)?null!=a.match(t)||null!=a.match(s)?c.replace(\"static.arcgis.com\",\"staticdev.arcgis.com\"):null!=a.match(o)||null!=a.match(i)?c.replace(\"static.arcgis.com\",\"staticqa.arcgis.com\"):c:c}const t=/^devext.arcgis.com$/,o=/^qaext.arcgis.com$/,s=/^[\\w-]*\\.mapsdevext.arcgis.com$/,i=/^[\\w-]*\\.mapsqa.arcgis.com$/,l=[/^([\\w-]*\\.)?[\\w-]*\\.zrh-dev-local.esri.com$/,t,o,/^jsapps.esri.com$/,s,i];export{a as adjustStaticAGOUrl,l as devHostnames,c as isDevEnvironment};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport has from\"../core/has.js\";const e=()=>!!has(\"enable-feature:force-wosr\"),a=()=>!!has(\"enable-feature:direct-3d-object-feature-layer-display\"),t=()=>has.add(\"enable-feature:direct-3d-object-feature-layer-display\",!0,!0,!0),i=()=>has.add(\"enable-feature:direct-3d-object-feature-layer-display\",!1,!0,!0),r=()=>!!has(\"enable-i3s-patching\"),d=()=>has.add(\"enable-i3s-patching\",!0,!0,!0),c=()=>has.add(\"enable-i3s-patching\",!1,!0,!0),n=()=>!!has(\"enable-feature:SceneLayer-editing\"),l=(e=\"i3s-patching\")=>{switch(c(),i(),has.add(\"enable-feature:SceneLayer-editing\",!0,!0,!0),e){case\"feature-layer-view\":t();break;case\"i3s-patching\":d()}},s=()=>{c(),i(),has.add(\"enable-feature:SceneLayer-editing\",!1,!0,!0)},b=()=>has.add(\"disable-feature:idb-cache\",!0,!0,!0);l(\"i3s-patching\");export{a as direct3DObjectFeatureLayerDisplayEnabled,i as disableDirect3DObjectFeatureLayerDisplay,c as disableI3SPatching,b as disableIDBCache,s as disableSceneLayerEditing,t as enableDirect3DObjectFeatureLayerDisplay,d as enableI3SPatching,l as enableSceneLayerEditing,e as enableWebStyleForceWOSR,r as i3sPatchingEnabled,n as sceneLayerEditingEnabled};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{isSymbol3D as o}from\"../../symbols.js\";import e from\"../../core/Error.js\";import r from\"../WebStyleSymbol.js\";import m from\"../PointSymbol3D.js\";import i from\"../SimpleLineSymbol.js\";import l from\"../LineSymbol3D.js\";import s from\"../SimpleMarkerSymbol.js\";import n from\"../PictureMarkerSymbol.js\";import t from\"../SimpleFillSymbol.js\";import y from\"../MeshSymbol3D.js\";import f from\"../PolygonSymbol3D.js\";import b from\"../TextSymbol.js\";import p from\"../LabelSymbol3D.js\";const a={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0};function S(S,c=a){if(!S)return{symbol:null};const{retainId:u=a.retainId,ignoreDrivers:d=a.ignoreDrivers,hasLabelingContext:j=a.hasLabelingContext,retainCIM:D=a.retainCIM}=c;let g=null;if(o(S)||S instanceof r)g=S.clone();else if(\"cim\"===S.type){const o=S.data?.symbol?.type;if(\"CIMPointSymbol\"!==o)return{error:new e(\"symbol-conversion:unsupported-cim-symbol\",`CIM symbol of type '${o||\"unknown\"}' is unsupported in 3D`,{symbol:S})};g=D?S.clone():m.fromCIMSymbol(S)}else if(S instanceof i)g=l.fromSimpleLineSymbol(S);else if(S instanceof s)g=m.fromSimpleMarkerSymbol(S);else if(S instanceof n)g=m.fromPictureMarkerSymbol(S);else if(S instanceof t)g=c.geometryType&&\"mesh\"===c.geometryType?y.fromSimpleFillSymbol(S):f.fromSimpleFillSymbol(S);else{if(!(S instanceof b))return{error:new e(\"symbol-conversion:unsupported-2d-symbol\",`2D symbol of type '${S.type||S.declaredClass}' is unsupported in 3D`,{symbol:S})};g=j?p.fromTextSymbol(S):m.fromTextSymbol(S)}return u&&g&&\"cim\"!==g.type&&(g.id=S.id),d&&o(g)&&g.symbolLayers.forEach((o=>o.ignoreDrivers=!0)),{symbol:g}}export{a as defaultTo3DOptions,S as to3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{readSymbol as o}from\"../../symbols.js\";import e from\"../../core/Error.js\";import{isSceneServiceLayer as n}from\"../../layers/support/layerUtils.js\";import t from\"../Symbol3D.js\";import{to3D as s}from\"./symbolConversion.js\";import r from\"../WebStyleSymbol.js\";function l(o,e,n,t){const s=a(o,{},{context:t,isLabelSymbol:!1});null!=s&&(e[n]=s)}function i(o,e,n,t){const s=a(o,{},{context:t,isLabelSymbol:!0});null!=s&&(e[n]=s)}function m(o){return o instanceof t||o instanceof r}function a(o,t,r){if(null==o)return null;const{context:l,isLabelSymbol:i}=r,a=l?.origin,b=l?.messages;if(\"web-scene\"===a&&!m(o)){const n=s(o,{retainCIM:!0,hasLabelingContext:i});return null!=n.symbol?n.symbol.write(t,l):(b?.push(new e(\"symbol:unsupported\",`Symbols of type '${o.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:o,context:l,error:n.error})),null)}return(\"web-map\"===a||\"portal-item\"===a&&!n(l?.layer))&&m(o)?(b?.push(new e(\"symbol:unsupported\",`Symbols of type '${o.declaredClass}' are not supported in web maps and portal items. Use 2D symbology and CIMSymbol instead when working with MapView`,{symbol:o,context:l})),null):o.write(t,l)}function b(e,n){return o(e,null,n)}export{b as fromJSON,l as write,i as writeLabelSymbol};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport e from\"../../request.js\";import t from\"../../core/Error.js\";import{throwIfAbortError as r}from\"../../core/promiseUtils.js\";import{normalize as o,removeFile as s}from\"../../core/urlUtils.js\";import n from\"../../portal/Portal.js\";import l from\"../../portal/PortalQueryParams.js\";import{enableWebStyleForceWOSR as a}from\"../../support/featureFlags.js\";let u={};async function f(e,t){try{return{data:(await b(e,t)).data,baseUrl:s(e),styleUrl:e}}catch(o){return r(o),null}}function i(e,t,r){const o=null!=t.portal?t.portal:n.getDefault();let s;const l=`${o.url} - ${o.user&&o.user.username} - ${e}`;return u[l]||(u[l]=y(e,o,r).then((e=>(s=e,e.fetchData()))).then((t=>({data:t,baseUrl:s.itemUrl??\"\",styleName:e})))),u[l]}function m(){u&&(u={})}function y(e,r,o){return r.load(o).then((()=>{const t=new l({disableExtraQuery:!0,query:`owner:${h} AND type:${j} AND typekeywords:\"${e}\"`});return r.queryItems(t,o)})).then((({results:r})=>{let s=null;const n=e.toLowerCase();if(r&&Array.isArray(r))for(const e of r){const t=e.typeKeywords?.some((e=>e.toLowerCase()===n));if(t&&e.type===j&&e.owner===h){s=e;break}}if(!s)throw new t(\"symbolstyleutils:style-not-found\",`The style '${e}' could not be found`,{styleName:e});return s.load(o)}))}function c(e,r,o){return null!=e?.styleUrl?f(e.styleUrl,o):null!=e?.styleName?i(e.styleName,r,o):Promise.reject(new t(\"symbolstyleutils:style-url-and-name-missing\",\"Either styleUrl or styleName is required to resolve a style\"))}function p(e){return null===e||\"CIMSymbolReference\"===e.type?e:{type:\"CIMSymbolReference\",symbol:e}}function d(e,t,r=[\"gltf\"]){if(\"cimRef\"===t)return e.cimRef;if(e.formatInfos&&!a())for(const o of r){const t=e.formatInfos.find((e=>e.type===o));if(t)return t.href}return e.webRef}function b(t,r){const s={responseType:\"json\",query:{f:\"json\"},...r};return e(o(t),s)}const h=\"esri_en\",j=\"Style\",w=\"https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f=json\";export{w as Style2DUrlTemplate,u as cachedStyles,m as cleanupStyleUtilsCache,c as fetchStyle,p as makeCIMSymbolRef,b as requestJSON,d as symbolUrlFromStyleItem};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{isSymbol3D as t}from\"../../symbols.js\";import{isDevEnvironment as e,adjustStaticAGOUrl as r}from\"../../core/devEnvironmentUtils.js\";import l from\"../../core/Error.js\";import{urlToObject as o,removeFile as n}from\"../../core/urlUtils.js\";import s from\"../../portal/Portal.js\";import{f as m}from\"../../chunks/persistableUrlUtils.js\";import{fromJSON as i}from\"./jsonUtils.js\";import a from\"./StyleOrigin.js\";import{fetchStyle as u,requestJSON as p,makeCIMSymbolRef as f,Style2DUrlTemplate as y,symbolUrlFromStyleItem as c}from\"./styleUtils.js\";import{Thumbnail as b}from\"./Thumbnail.js\";function g(t,e,r,o){const n=t.name;return null==n?Promise.reject(new l(\"symbolstyleutils:style-symbol-reference-name-missing\",\"Missing name in style symbol reference\")):t.styleName&&\"Esri2DPointSymbolsStyle\"===t.styleName?d(n,e,o):u(t,e,o).then((t=>h(t,n,e,r,c,o)))}function j(t,e){return e.items.find((e=>e.name===t))}function h(u,y,c,g,h,d){const U=null!=c?.portal?c.portal:s.getDefault(),N={portal:U,url:o(u.baseUrl),origin:\"portal-item\"},w=j(y,u.data);if(!w){const t=`The symbol name '${y}' could not be found`;return Promise.reject(new l(\"symbolstyleutils:symbol-name-not-found\",t,{symbolName:y}))}let S=m(h(w,g),N),D=w.thumbnail?.href??null;const O=w.thumbnail?.imageData;e()&&(S=r(S)??\"\",D=r(D));const P={portal:U,url:o(n(S)),origin:\"portal-item\"};return p(S,d).then((e=>{const r=\"cimRef\"===g?f(e.data):e.data,l=i(r,P);if(l&&t(l)){if(D){const t=m(D,N);l.thumbnail=new b({url:t})}else O&&(l.thumbnail=new b({url:`data:image/png;base64,${O}`}));u.styleUrl?l.styleOrigin=new a({portal:c.portal,styleUrl:u.styleUrl,name:y}):u.styleName&&(l.styleOrigin=new a({portal:c.portal,styleName:u.styleName,name:y}))}return l}))}function d(t,e,r){const l=y.replaceAll(/\\{SymbolName\\}/gi,t),m=null!=e.portal?e.portal:s.getDefault();return p(l,r).then((t=>{const e=f(t.data);return i(e,{portal:m,url:o(n(l)),origin:\"portal-item\"})}))}export{h as fetchSymbolFromStyle,j as getStyleItemFromStyle,g as resolveWebStyleSymbol};\n"],"names":["c","globalThis","location","hostname","l","some","a","_c","match","t","s","replace","o","i","e","has","add","n","arguments","length","undefined","retainId","ignoreDrivers","hasLabelingContext","S","symbol","u","d","j","retainCIM","D","g","r","clone","type","_S$data","data","error","concat","m","fromCIMSymbol","fromSimpleLineSymbol","fromSimpleMarkerSymbol","fromPictureMarkerSymbol","geometryType","y","fromSimpleFillSymbol","f","b","declaredClass","p","fromTextSymbol","id","symbolLayers","forEach","context","isLabelSymbol","origin","messages","write","push","layer","portal","getDefault","url","user","username","load","then","disableExtraQuery","query","h","queryItems","_ref","results","toLowerCase","Array","isArray","_e$typeKeywords","typeKeywords","owner","styleName","fetchData","_s$itemUrl","baseUrl","itemUrl","styleUrl","async","Promise","reject","cimRef","formatInfos","find","href","webRef","responseType","w","name","replaceAll","_w$thumbnail$href","_w$thumbnail","_w$thumbnail2","_r","U","N","items","symbolName","thumbnail","O","imageData","P","styleOrigin"],"sourceRoot":""}