"use strict";(self.webpackChunkweather_app=self.webpackChunkweather_app||[]).push([[3637,2945,4920],{64920:(e,t,i)=>{i.d(t,{GB:()=>n,Qo:()=>l,Y4:()=>s});var r=i(24241);class n{}function s(e){return e instanceof r.bo?e===n.instance:"unknown"===(null===e||void 0===e?void 0:e.toString().toLowerCase())}function l(e){return s(e)?n.instance:e}n.instance=new r.oh("Etc/UTC")},76279:(e,t,i)=>{i.d(t,{$X:()=>m,Gy:()=>p,P5:()=>v,SW:()=>f,Tr:()=>y,VV:()=>l});i(19902);const r=(e,t,i)=>[t,i],n=(e,t,i)=>[t,i,e[2]],s=(e,t,i)=>[t,i,e[2],e[3]];function l(e){return e?{originPosition:"upper-left"===e.originPosition?"upperLeft":"lower-left"===e.originPosition?"lowerLeft":e.originPosition,scale:e.tolerance?[e.tolerance,e.tolerance]:[1,1],translate:null!=e.extent?[e.extent.xmin,e.extent.ymax]:[0,0]}:null}function a(e,t){let{scale:i,translate:r}=e;return Math.round((t-r[0])/i[0])}function o(e,t){let{scale:i,translate:r}=e;return Math.round((r[1]-t)/i[1])}function u(e,t){let{scale:i,translate:r}=e;return t*i[0]+r[0]}function d(e,t){let{scale:i,translate:r}=e;return r[1]-t*i[1]}function c(e,t,i){const r=new Array(i.length);if(!i.length)return r;const[n,s]=e.scale;let l=u(e,i[0][0]),a=d(e,i[0][1]);r[0]=t(i[0],l,a);for(let o=1;o<i.length;o++){const e=i[o];l+=e[0]*n,a-=e[1]*s,r[o]=t(e,l,a)}return r}function h(e,t,i){const r=new Array(i.length);for(let n=0;n<i.length;n++)r[n]=c(e,t,i[n]);return r}function p(e,t,i,r,n){return t.x=a(e,i.x),t.y=o(e,i.y),t!==i&&(r&&(t.z=i.z),n&&(t.m=i.m)),t}function f(e,t,i,l,a){return null!=i&&(t.points=function(e,t,i,l){return c(e,i?l?s:n:l?n:r,t)}(e,i.points,l,a)),t}function y(e,t,i,r,n){return null==i||(t.x=u(e,i.x),t.y=d(e,i.y),t!==i&&(r&&(t.z=i.z),n&&(t.m=i.m))),t}function m(e,t,i,l,a){return null!=i&&(t.rings=function(e,t,i,l){return h(e,i?l?s:n:l?n:r,t)}(e,i.rings,l,a)),t}function v(e,t,i,l,a){return null!=i&&(t.paths=function(e,t,i,l){return h(e,i?l?s:n:l?n:r,t)}(e,i.paths,l,a)),t}},41324:(e,t,i)=>{i.r(t),i.d(t,{default:()=>R});var r,n=i(35143),s=(i(35238),i(94643)),l=i(73763),a=i(77717),o=i(50346),u=i(68134),d=i(90534),c=i(46053),h=(i(81806),i(76460),i(47249),i(28379)),p=i(85842),f=i(17707),y=i(13312),m=i(25515),v=i(65624),g=i(11270),b=i(94729),_=i(21617),w=i(5682),S=i(55053),M=i(54099),I=i(42553),F=i(49304),E=i(88685),Z=i(40565),x=i(69834),P=i(76797);let A=r=class extends(M.A.EventedMixin((0,I.Te)(F.A))){constructor(){super(...arguments),this.description=null,this.fullExtent=null,this.id=null,this.networkLink=null,this.parent=null,this.sublayers=null,this.title=null,this.sourceJSON=null,this.layer=null,this.addHandles([(0,u.on)((()=>this.sublayers),"after-add",(e=>{let{item:t}=e;t.parent=this,t.layer=this.layer}),u.OH),(0,u.on)((()=>this.sublayers),"after-remove",(e=>{let{item:t}=e;t.layer=t.parent=null}),u.OH),(0,u.wB)((()=>this.sublayers),((e,t)=>{if(t)for(const i of t)i.layer=i.parent=null;if(e)for(const i of e)i.parent=this,i.layer=this.layer}),u.OH),(0,u.wB)((()=>this.layer),(e=>{if(this.sublayers)for(const t of this.sublayers)t.layer=e}),u.OH)])}initialize(){(0,u.C_)((()=>this.networkLink)).then((()=>(0,u.C_)((()=>!0===this.visible)))).then((()=>this.load()))}load(e){var t,i;if(!this.networkLink)return;if(this.networkLink.viewFormat)return;const n=null!=e?e.signal:null,l=this._fetchService(null!==(t=null===(i=this._get("networkLink"))||void 0===i?void 0:i.href)&&void 0!==t?t:"",n).then((e=>{var t;const i=(0,x.Qm)(e.sublayers);this.fullExtent=P.A.fromJSON(i),this.sourceJSON=e;const n=(0,Z.dp)(s.A.ofType(r),(0,x.Jy)(r,e));this.sublayers?this.sublayers.addMany(n):this.sublayers=n,null!==(t=this.layer)&&void 0!==t&&t.emit("sublayer-update"),this.layer&&this.layer.notifyChange("visibleSublayers")}));return this.addResolvingPromise(l),Promise.resolve(this)}get visible(){return this._get("visible")}set visible(e){this._get("visible")!==e&&(this._set("visible",e),this.layer&&this.layer.notifyChange("visibleSublayers"))}readVisible(e,t){return!!t.visibility}_fetchService(e,t){return(0,x.Ox)(e,this.layer.outSpatialReference,this.layer.refreshInterval,t).then((e=>(0,x._4)(e.data)))}};(0,n._)([(0,c.MZ)()],A.prototype,"description",void 0),(0,n._)([(0,c.MZ)({type:P.A})],A.prototype,"fullExtent",void 0),(0,n._)([(0,c.MZ)()],A.prototype,"id",void 0),(0,n._)([(0,c.MZ)({readOnly:!0,value:null})],A.prototype,"networkLink",void 0),(0,n._)([(0,c.MZ)({json:{write:{allowNull:!0}}})],A.prototype,"parent",void 0),(0,n._)([(0,c.MZ)({type:s.A.ofType(A),json:{write:{allowNull:!0}}})],A.prototype,"sublayers",void 0),(0,n._)([(0,c.MZ)({value:null,json:{read:{source:"name",reader:e=>(0,E._e)(e)}}})],A.prototype,"title",void 0),(0,n._)([(0,c.MZ)({value:!0})],A.prototype,"visible",null),(0,n._)([(0,h.w)("visible",["visibility"])],A.prototype,"readVisible",null),(0,n._)([(0,c.MZ)()],A.prototype,"sourceJSON",void 0),(0,n._)([(0,c.MZ)()],A.prototype,"layer",void 0),A=r=(0,n._)([(0,p.$)("esri.layers.support.KMLSublayer")],A);const L=A,T=["kml","xml"];let O=class extends((0,v.d)((0,_.J)((0,w.j)((0,g.q)((0,b.A)((0,a.P)(m.A))))))){constructor(){super(...arguments),this._visibleFolders=[],this.allSublayers=new l.A({getCollections:()=>[this.sublayers],getChildrenFunction:e=>e.sublayers}),this.outSpatialReference=y.A.WGS84,this.path=null,this.legendEnabled=!1,this.operationalLayerType="KML",this.sublayers=null,this.type="kml",this.url=null}initialize(){this.addHandles([(0,u.wB)((()=>this.sublayers),((e,t)=>{t&&t.forEach((e=>{e.parent=null,e.layer=null})),e&&e.forEach((e=>{e.parent=this,e.layer=this}))}),u.OH),this.on("sublayer-update",(()=>this.notifyChange("fullExtent")))])}normalizeCtorArgs(e,t){return"string"==typeof e?{url:e,...t}:e}readSublayersFromItemOrWebMap(e,t){this._visibleFolders=t.visibleFolders}readSublayers(e,t,i){return(0,x.Jy)(L,t,i,this._visibleFolders)}writeSublayers(e,t){const i=[],r=e.toArray();for(;r.length;){const e=r[0];e.networkLink||(e.visible&&i.push(e.id),e.sublayers&&r.push(...e.sublayers.toArray())),r.shift()}t.visibleFolders=i}get title(){const e=this._get("title");return e&&"defaults"!==this.originOf("title")?e:this.url?(0,d.e7)(this.url,T)||"KML":e||""}set title(e){this._set("title",e)}get visibleSublayers(){const e=this.sublayers,t=[],i=e=>{e.visible&&(t.push(e),e.sublayers&&e.sublayers.forEach(i))};return e&&e.forEach(i),t}get fullExtent(){return this._recomputeFullExtent()}load(e){const t=null!=e?e.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["KML"],supportsData:!1},e).catch(o.QP).then((()=>this._fetchService(t)))),Promise.resolve(this)}destroy(){super.destroy(),this.allSublayers.destroy()}async _fetchService(e){const t=await Promise.resolve().then((()=>{var t;return this.resourceInfo?{ssl:!1,data:this.resourceInfo}:(0,x.Ox)(null!==(t=this.url)&&void 0!==t?t:"",this.outSpatialReference,this.refreshInterval,e)})),i=(0,x._4)(t.data);i&&this.read(i,{origin:"service"})}_recomputeFullExtent(){let e=null;null!=this.extent&&(e=this.extent.clone());const t=i=>{if(i.sublayers)for(const r of i.sublayers.items)t(r),r.visible&&r.fullExtent&&(null!=e?e.union(r.fullExtent):e=r.fullExtent.clone())};return t(this),e}};(0,n._)([(0,c.MZ)({readOnly:!0})],O.prototype,"allSublayers",void 0),(0,n._)([(0,c.MZ)({type:y.A})],O.prototype,"outSpatialReference",void 0),(0,n._)([(0,c.MZ)({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],O.prototype,"path",void 0),(0,n._)([(0,c.MZ)({readOnly:!0,json:{read:!1,write:!1}})],O.prototype,"legendEnabled",void 0),(0,n._)([(0,c.MZ)({type:["show","hide","hide-children"]})],O.prototype,"listMode",void 0),(0,n._)([(0,c.MZ)({type:["KML"]})],O.prototype,"operationalLayerType",void 0),(0,n._)([(0,c.MZ)({})],O.prototype,"resourceInfo",void 0),(0,n._)([(0,c.MZ)({type:s.A.ofType(L),json:{write:{ignoreOrigin:!0}}})],O.prototype,"sublayers",void 0),(0,n._)([(0,h.w)(["web-map","portal-item"],"sublayers",["visibleFolders"])],O.prototype,"readSublayersFromItemOrWebMap",null),(0,n._)([(0,h.w)("service","sublayers",["sublayers"])],O.prototype,"readSublayers",null),(0,n._)([(0,f.K)("sublayers")],O.prototype,"writeSublayers",null),(0,n._)([(0,c.MZ)({readOnly:!0,json:{read:!1}})],O.prototype,"type",void 0),(0,n._)([(0,c.MZ)({json:{origins:{"web-map":{read:{source:"title"}}},write:{ignoreOrigin:!0}}})],O.prototype,"title",null),(0,n._)([(0,c.MZ)(S.OZ)],O.prototype,"url",void 0),(0,n._)([(0,c.MZ)({readOnly:!0})],O.prototype,"visibleSublayers",null),(0,n._)([(0,c.MZ)({type:P.A})],O.prototype,"extent",void 0),(0,n._)([(0,c.MZ)()],O.prototype,"fullExtent",null),O=(0,n._)([(0,p.$)("esri.layers.KMLLayer")],O);const R=O},44081:(e,t,i)=>{i.d(t,{LF:()=>a,M9:()=>o,zu:()=>u});var r=i(50076),n=i(48611),s=i(7847),l=i(58503);function a(e,t,i){try{return function(e){if(!e||0===e.length)return null;if(function(e){const t=e[0];return!!t&&"scale"in t}(e)){const t=[];for(const i of e)t.push({scale:i.scale,value:u(i.value)});return t}return u(e)}(e)}catch(n){var r;null===i||void 0===i||null===(r=i.messages)||void 0===r||r.push(n)}return null}function o(e,t,i,r){try{const r=function(e){const t=(0,s.q)(e);return t?(0,l.dw)(t)?t.map((e=>e.toJSON())):t.map((e=>{let{scale:t,effects:i}=e;return{scale:t,value:i.map((e=>e.toJSON()))}})):null}(e);(0,n.sM)(i,r,t)}catch(o){r.messages&&r.messages.push(o)}}function u(e){if(null===e||void 0===e||!e.length)return"";const t=[];for(const i of e){let e=[];switch(i.type){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":case"opacity":e=[d(i,"amount")];break;case"blur":e=[d(i,"radius","pt")];break;case"hue-rotate":e=[d(i,"angle","deg")];break;case"drop-shadow":e=[d(i,"xoffset","pt"),d(i,"yoffset","pt"),d(i,"blurRadius","pt"),c(i,"color")];break;case"bloom":e=[d(i,"strength"),d(i,"radius","pt"),d(i,"threshold")]}const r="".concat(i.type,"(").concat(e.filter(Boolean).join(" "),")");(0,s.q)(r),t.push(r)}return t.join(" ")}function d(e,t,i){if(null==e[t])throw new r.A("effect:missing-parameter","Missing parameter '".concat(t,"' in ").concat(e.type," effect"),{effect:e});return i?e[t]+i:""+e[t]}function c(e,t){if(null==e[t])throw new r.A("effect:missing-parameter","Missing parameter '".concat(t,"' in ").concat(e.type," effect"),{effect:e});const i=e[t];return"rgba(".concat(i[0]||0,", ").concat(i[1]||0,", ").concat(i[2]||0,", ").concat(i[3]/255||0,")")}},65624:(e,t,i)=>{i.d(t,{d:()=>o});var r=i(35143),n=i(46053),s=(i(81806),i(76460),i(47249),i(85842)),l=i(44081);const a={read:{reader:l.LF},write:{allowNull:!0,writer:l.M9}},o=e=>{let t=class extends e{constructor(){super(...arguments),this.blendMode="normal",this.effect=null}};return(0,r._)([(0,n.MZ)({type:["average","color-burn","color-dodge","color","darken","destination-atop","destination-in","destination-out","destination-over","difference","exclusion","hard-light","hue","invert","lighten","lighter","luminosity","minus","multiply","normal","overlay","plus","reflect","saturation","screen","soft-light","source-atop","source-in","source-out","vivid-light","xor"],nonNullable:!0,json:{read:!1,write:!1,origins:{"web-map":{read:!0,write:!0},"portal-item":{read:!0,write:!0}}}})],t.prototype,"blendMode",void 0),(0,r._)([(0,n.MZ)({json:{read:!1,write:!1,origins:{"web-map":a,"portal-item":a}}})],t.prototype,"effect",void 0),t=(0,r._)([(0,s.$)("esri.layers.mixins.BlendLayer")],t),t}},94729:(e,t,i)=>{i.d(t,{A:()=>S});var r=i(35143),n=i(86560),s=i(55171),l=i(3825),a=i(98773),o=i(50076),u=i(76460),d=i(30726),c=i(50346),h=i(90534),p=i(46053),f=(i(81806),i(47249),i(28379)),y=i(85842),m=i(17707),v=i(31933),g=i(65308),b=i(70652),_=i(38665),w=i(72945);const S=e=>{let t=class extends e{constructor(){super(...arguments),this.resourceReferences={portalItem:null,paths:[]},this.userHasEditingPrivileges=!0,this.userHasFullEditingPrivileges=!1,this.userHasUpdateItemPrivileges=!1}destroy(){this.portalItem=(0,d.pR)(this.portalItem),this.resourceReferences.portalItem=null,this.resourceReferences.paths.length=0}set portalItem(e){e!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",e))}readPortalItem(e,t,i){if(t.itemId)return new b.default({id:t.itemId,portal:null===i||void 0===i?void 0:i.portal})}writePortalItem(e,t){(null===e||void 0===e?void 0:e.id)&&(t.itemId=e.id)}async loadFromPortal(e,t){var r;if(null!==(r=this.portalItem)&&void 0!==r&&r.id)try{const{load:r}=await Promise.all([i.e(2487),i.e(3814)]).then(i.bind(i,73814));return(0,c.Te)(t),await r({instance:this,supportedTypes:e.supportedTypes,validateItem:e.validateItem,supportsData:e.supportsData,layerModuleTypeMap:e.layerModuleTypeMap},t)}catch(n){throw(0,c.zf)(n)||u.A.getLogger(this).warn("Failed to load layer (".concat(this.title,", ").concat(this.id,") portal item (").concat(this.portalItem.id,")\n  ").concat(n)),n}}async finishLoadEditablePortalLayer(e){this._set("userHasEditingPrivileges",await this._fetchUserHasEditingPrivileges(e).catch((e=>((0,c.QP)(e),!0))))}async setUserPrivileges(e,t){if(!n.A.userPrivilegesApplied)return this.finishLoadEditablePortalLayer(t);if(this.url)try{const{features:{edit:i,fullEdit:r},content:{updateItem:n}}=await this._fetchUserPrivileges(e,t);this._set("userHasEditingPrivileges",i),this._set("userHasFullEditingPrivileges",r),this._set("userHasUpdateItemPrivileges",n)}catch(i){(0,c.QP)(i)}}async _fetchUserPrivileges(e,t){let i=this.portalItem;if(!e||!i||!i.loaded||i.sourceUrl)return this._fetchFallbackUserPrivileges(t);const r=e===i.id;if(r&&i.portal.user)return(0,w.It)(i);let n,l;if(r)n=i.portal.url;else try{n=await(0,v.wI)(this.url,t)}catch(d){(0,c.QP)(d)}if(!n||!(0,h.b8)(n,i.portal.url))return this._fetchFallbackUserPrivileges(t);try{const e=null!=t?t.signal:null;l=await(null===s.id||void 0===s.id?void 0:s.id.getCredential("".concat(n,"/sharing"),{prompt:!1,signal:e}))}catch(d){(0,c.QP)(d)}const a=!0,o=!1,u=!1;if(!l)return{features:{edit:a,fullEdit:o},content:{updateItem:u}};try{if(r?await i.reload():(i=new b.default({id:e,portal:{url:n}}),await i.load(t)),i.portal.user)return(0,w.It)(i)}catch(d){(0,c.QP)(d)}return{features:{edit:a,fullEdit:o},content:{updateItem:u}}}async _fetchFallbackUserPrivileges(e){let t=!0;try{t=await this._fetchUserHasEditingPrivileges(e)}catch(i){(0,c.QP)(i)}return{features:{edit:t,fullEdit:!1},content:{updateItem:!1}}}async _fetchUserHasEditingPrivileges(e){const t=this.url?null===s.id||void 0===s.id?void 0:s.id.findCredential(this.url):null;if(!t)return!0;const i=M.credential===t?M.user:await this._fetchEditingUser(e);return M.credential=t,M.user=i,null==(null===i||void 0===i?void 0:i.privileges)||i.privileges.includes("features:user:edit")}async _fetchEditingUser(e){var t,i;const r=null===(t=this.portalItem)||void 0===t||null===(t=t.portal)||void 0===t?void 0:t.user;if(r)return r;const n=s.id.findServerInfo(null!==(i=this.url)&&void 0!==i?i:"");if(null===n||void 0===n||!n.owningSystemUrl)return null;const o="".concat(n.owningSystemUrl,"/sharing/rest"),u=g.A.getDefault();if(u&&u.loaded&&(0,h.S8)(u.restUrl)===(0,h.S8)(o))return u.user;const d="".concat(o,"/community/self"),c=null!=e?e.signal:null,p=await(0,a.Ke)((0,l.A)(d,{authMode:"no-prompt",query:{f:"json"},signal:c}));return p.ok?_.A.fromJSON(p.value.data):null}read(e,t){t&&(t.layer=this),super.read(e,t)}write(e,t){var i;const r=null===t||void 0===t?void 0:t.portal,n=(null===(i=this.portalItem)||void 0===i?void 0:i.id)&&(this.portalItem.portal||g.A.getDefault());return r&&n&&!(0,h.ut)(n.restUrl,r.restUrl)?(t.messages&&t.messages.push(new o.A("layer:cross-portal","The layer '".concat(this.title," (").concat(this.id,")' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save, set layer.portalItem to null or save to the same portal as the item associated with the layer"),{layer:this})),null):super.write(e,{...t,layer:this})}};return(0,r._)([(0,p.MZ)({type:b.default})],t.prototype,"portalItem",null),(0,r._)([(0,f.w)("web-document","portalItem",["itemId"])],t.prototype,"readPortalItem",null),(0,r._)([(0,m.K)("web-document","portalItem",{itemId:{type:String}})],t.prototype,"writePortalItem",null),(0,r._)([(0,p.MZ)({clonable:!1})],t.prototype,"resourceReferences",void 0),(0,r._)([(0,p.MZ)({type:Boolean,readOnly:!0})],t.prototype,"userHasEditingPrivileges",void 0),(0,r._)([(0,p.MZ)({type:Boolean,readOnly:!0})],t.prototype,"userHasFullEditingPrivileges",void 0),(0,r._)([(0,p.MZ)({type:Boolean,readOnly:!0})],t.prototype,"userHasUpdateItemPrivileges",void 0),t=(0,r._)([(0,y.$)("esri.layers.mixins.PortalLayer")],t),t},M={credential:null,user:null}},21617:(e,t,i)=>{i.d(t,{J:()=>_});var r=i(35143),n=i(76460),s=i(50346),l=i(46053),a=i(21403),o=(i(47249),i(81806),i(85842)),u=i(80979),d=i(94643),c=(i(98773),i(50076),i(68452),i(49281));const h=new d.A,p=new WeakMap;function f(e){y(e)&&h.push(new WeakRef(e))}function y(e){return null!=e&&"object"==typeof e&&"refreshInterval"in e&&"refresh"in e}function m(e,t){return Number.isFinite(e)&&Number.isFinite(t)?t<=0?e:m(t,e%t):0}let v=0,g=0;function b(){const e=Date.now();let t=!1;for(const r of h){const n=r.deref();var i;if(n){if(n.refreshInterval)e-(null!==(i=p.get(n))&&void 0!==i?i:0)+5>=6e4*n.refreshInterval&&(p.set(n,e),n.refresh(e))}else t=!0}if(t)for(let r=h.length-1;r>=0;r--)h.at(r).deref()||h.removeAt(r)}(0,c.fm)((()=>{const e=Date.now();let t=0;for(const i of h){const r=i.deref();r&&(t=m(Math.round(6e4*r.refreshInterval),t),r.refreshInterval?p.get(r)||p.set(r,e):p.delete(r))}if(t!==g){if(g=t,clearInterval(v),0===g)return void(v=0);v=setInterval(b,g)}}));const _=e=>{let t=class extends e{constructor(){super(...arguments),this.refreshInterval=0,this.refreshTimestamp=0,this._debounceHasDataChanged=(0,s.sg)((()=>this.hasDataChanged())),this.when().then((()=>{this.destroyed||f(this)}),(()=>{}))}destroy(){!function(e){const t=h.find((t=>t.deref()===e));t&&h.remove(t)}(this)}castRefreshInterval(e){return e>=.1?e:e<=0?0:.1}get refreshParameters(){return{_ts:this.refreshTimestamp||null}}refresh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();(0,s.QZ)(this._debounceHasDataChanged()).then((t=>{t&&this._set("refreshTimestamp",e),this.emit("refresh",{dataChanged:t})}),(e=>{n.A.getLogger(this).error(e),this.emit("refresh",{dataChanged:!1,error:e})}))}async hasDataChanged(){return!0}get test(){const e=this;return{set refreshInterval(t){e._set("refreshInterval",t)}}}};return(0,r._)([(0,l.MZ)({type:Number,json:{write:!0,origins:{"web-scene":{write:{enabled:!0,layerContainerTypes:u.K}}}}})],t.prototype,"refreshInterval",void 0),(0,r._)([(0,a.w)("refreshInterval")],t.prototype,"castRefreshInterval",null),(0,r._)([(0,l.MZ)({readOnly:!0})],t.prototype,"refreshTimestamp",void 0),(0,r._)([(0,l.MZ)({readOnly:!0})],t.prototype,"refreshParameters",null),t=(0,r._)([(0,o.$)("esri.layers.mixins.RefreshableLayer")],t),t}},5682:(e,t,i)=>{i.d(t,{j:()=>l});var r=i(35143),n=i(46053),s=(i(81806),i(76460),i(47249),i(85842));const l=e=>{let t=class extends e{constructor(){super(...arguments),this.minScale=0,this.maxScale=0}get effectiveScaleRange(){const e={minScale:this.minScale,maxScale:this.maxScale},t=this.parent;t&&"effectiveScaleRange"in t&&function(e,t){e.minScale=e.minScale>0?t.minScale>0?Math.min(e.minScale,t.minScale):e.minScale:t.minScale,e.maxScale=e.maxScale>0?t.maxScale>0?Math.max(e.maxScale,t.maxScale):e.maxScale:t.maxScale}(e,t.effectiveScaleRange);const i=this._get("effectiveScaleRange");return i&&i.minScale===e.minScale&&i.maxScale===e.maxScale?i:e}};return(0,r._)([(0,n.MZ)({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"minScale",void 0),(0,r._)([(0,n.MZ)({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"maxScale",void 0),(0,r._)([(0,n.MZ)({readOnly:!0})],t.prototype,"effectiveScaleRange",null),t=(0,r._)([(0,s.$)("esri.layers.mixins.ScaleRangeLayer")],t),t}},1900:(e,t,i)=>{i.d(t,{A:()=>h});var r=i(50076),n=i(42553),s=i(76460),l=i(87663),a=i(64920),o=i(53430),u=i(67478),d=i(24241);const c=new Map;class h{static fromJSON(e){return new h(e.fields,e.timeZoneByFieldName)}static fromLayer(e){var t;return new h(null!==(t=e.fields)&&void 0!==t?t:[],m(e))}static fromLayerJSON(e){var t;return new h(null!==(t=e.fields)&&void 0!==t?t:[],m(e))}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;this._fieldsMap=new Map,this._normalizedFieldsMap=new Map,this._dateFieldsSet=new Set,this._numericFieldsSet=new Set,this._requiredFields=null,this.dateFields=[],this.numericFields=[],this.fields=e||[],this._timeZoneByFieldName=t?new Map(t):null;const i=[];for(const n of this.fields){const e=null===n||void 0===n?void 0:n.name,t=f(e);if(e&&t){var r;const s=p(e);this._fieldsMap.set(e,n),this._fieldsMap.set(s,n),this._normalizedFieldsMap.set(t,n),i.push("".concat(s,":").concat(n.type,":").concat(null===(r=this._timeZoneByFieldName)||void 0===r?void 0:r.get(e))),(0,o.vE)(n)?(this.dateFields.push(n),this._dateFieldsSet.add(n)):(0,o.WA)(n)&&(this._numericFieldsSet.add(n),this.numericFields.push(n)),(0,o.te)(n)||(0,o.Xz)(n)||(n.editable=null==n.editable||!!n.editable,n.nullable=null==n.nullable||!!n.nullable)}}i.sort(),this.uid=i.join()}get requiredFields(){if(!this._requiredFields){this._requiredFields=[];for(const e of this.fields)(0,o.te)(e)||(0,o.Xz)(e)||e.nullable||void 0!==(0,o.lD)(e)||this._requiredFields.push(e)}return this._requiredFields}equals(e){return this.uid===(null===e||void 0===e?void 0:e.uid)}has(e){return null!=this.get(e)}get(e){var t;if(!e)return;let i=this._fieldsMap.get(e);return i||(i=null!==(t=this._fieldsMap.get(p(e)))&&void 0!==t?t:this._normalizedFieldsMap.get(f(e)),i&&this._fieldsMap.set(e,i),i)}getTimeZone(e){const t=this.get(e&&"string"!=typeof e?e.name:e);return t?this._timeZoneByFieldName?this._timeZoneByFieldName.get(t.name):"date"===t.type||"esriFieldTypeDate"===t.type?(s.A.getLogger("esri.layers.support.FieldsIndex").error(new r.A("getTimeZone:no-timezone-information","no time zone information for field '".concat(t.name,"'"))),u.n$):y.has(t.type)?u.L5:null:null}getLuxonTimeZone(e){const t=this.getTimeZone(e);return t?t===u.L5?a.GB.instance:t===u.n$?d.mQ.utcInstance:(0,l.tE)(c,t,(()=>d.oh.create(t))):null}isDateField(e){return this._dateFieldsSet.has(this.get(e))}isTimeOnlyField(e){return(0,o.OH)(this.get(e))}isNumericField(e){return this._numericFieldsSet.has(this.get(e))}normalizeFieldName(e){var t,i;return null!==(t=null===(i=this.get(e))||void 0===i?void 0:i.name)&&void 0!==t?t:void 0}toJSON(){return{fields:this.fields.map((e=>(0,n.Wj)(e)?e.toJSON():e)),timeZoneByFieldName:this._timeZoneByFieldName?Array.from(this._timeZoneByFieldName.entries()):null}}}function p(e){return e.trim().toLowerCase()}function f(e){var t,i;return null!==(t=null===(i=(0,o.rS)(e))||void 0===i?void 0:i.toLowerCase())&&void 0!==t?t:""}const y=new Set(["time-only","date-only","timestamp-offset","esriFieldTypeDateOnly","esriFieldTypeTimeOnly","esriFieldTypeTimestampOffset"]);function m(e){var t,i,r,n,s,l,a;const o=new Map;if(!e.fields)return o;const d=!0===e.datesInUnknownTimezone,{timeInfo:c,editFieldsInfo:h}=e,f=null!==(t=c?"startField"in c?c.startField:c.startTimeField:"")&&void 0!==t?t:"",m=null!==(i=c?"endField"in c?c.endField:c.endTimeField:"")&&void 0!==i?i:"",v=function(e){return"dateFieldsTimeZone"in e}(e)?null!==(r=e.dateFieldsTimeZone)&&void 0!==r?r:null:e.dateFieldsTimeReference?(0,u.ZS)(e.dateFieldsTimeReference):null,g=h?function(e){return"timeZone"in e}(h)?null!==(n=h.timeZone)&&void 0!==n?n:v:h.dateFieldsTimeReference?(0,u.ZS)(h.dateFieldsTimeReference):null!==v&&void 0!==v?v:u.n$:null,b=c?function(e){return"timeZone"in e}(c)?null!==(s=c.timeZone)&&void 0!==s?s:v:c.timeReference?(0,u.ZS)(c.timeReference):v:null,_=new Map([[p(null!==(l=null===h||void 0===h?void 0:h.creationDateField)&&void 0!==l?l:""),g],[p(null!==(a=null===h||void 0===h?void 0:h.editDateField)&&void 0!==a?a:""),g],[p(f),b],[p(m),b]]);for(const{name:S,type:M}of e.fields)if(y.has(M))o.set(S,u.L5);else if("date"!==M&&"esriFieldTypeDate"!==M)o.set(S,null);else if(d)o.set(S,u.L5);else{var w;const e=null!==(w=_.get(p(null!==S&&void 0!==S?S:"")))&&void 0!==w?w:v;o.set(S,e)}return o}},72945:(e,t,i)=>{i.d(t,{It:()=>h,LG:()=>l,OM:()=>u,Y:()=>a,bK:()=>o,mm:()=>c,sQ:()=>d});var r=i(26346),n=i(13312),s=i(45417);function l(e,t){if(!a(e,t)){const i=e.typeKeywords;i?i.push(t):e.typeKeywords=[t]}}function a(e,t){var i;return!(null===(i=e.typeKeywords)||void 0===i||!i.includes(t))}function o(e){return a(e,c.HOSTED_SERVICE)}function u(e,t){const i=e.typeKeywords;if(i){const e=i.indexOf(t);e>-1&&i.splice(e,1)}}async function d(e){const t=e.clone().normalize();let i;if(t.length>1)for(const r of t)i?r.width>i.width&&(i=r):i=r;else i=t[0];return async function(e){const t=e.spatialReference;if(t.isWGS84)return e.clone();if(t.isWebMercator)return(0,s.ci)(e);const i=n.A.WGS84;return await(0,r.initializeProjection)(t,i),(0,r.project)(e,i)}(i)}const c={DEVELOPER_BASEMAP:"DeveloperBasemap",JSAPI:"ArcGIS API for JavaScript",METADATA:"Metadata",MULTI_LAYER:"Multilayer",SINGLE_LAYER:"Singlelayer",TABLE:"Table",HOSTED_SERVICE:"Hosted Service",LOCAL_SCENE:"ViewingMode-Local",TILED_IMAGERY:"Tiled Imagery",GROUP_LAYER_MAP:"Map"};function h(e){var t;const{portal:i,isOrgItem:r,itemControl:n}=e,s=null===(t=i.user)||void 0===t?void 0:t.privileges;let l=!s||s.includes("features:user:edit"),a=!!r&&!(null===s||void 0===s||!s.includes("features:user:fullEdit"));const o="update"===n||"admin"===n;return o?a=l=!0:a&&(l=!0),{features:{edit:l,fullEdit:a},content:{updateItem:o}}}}}]);
//# sourceMappingURL=3637.ed69c5de.chunk.js.map