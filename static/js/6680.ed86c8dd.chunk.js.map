{"version":3,"file":"static/js/6680.ed86c8dd.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/rest/query/operations/editsZScale.js","../node_modules/@arcgis/core/rest/query/operations/queryZScale.js","../node_modules/@arcgis/core/rest/support/FeatureSet.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{getMetersPerVerticalUnitForSR as n}from\"../../../core/unitUtils.js\";import{equals as e}from\"../../../geometry/support/spatialReferenceUtils.js\";function t(n,e,t){if(null==n.hasM||n.hasZ)for(const i of e)for(const n of i)n.length>2&&(n[2]*=t)}function i(e,t,i){if(!e&&!t||!i)return;const s=n(i);o(e,i,s),o(t,i,s)}function o(n,e,t){if(n)for(const i of n)s(i.geometry,e,t)}function s(i,o,s){if(!i?.spatialReference||e(i.spatialReference,o))return;const f=n(i.spatialReference)/s;if(1!==f)if(\"x\"in i)null!=i.z&&(i.z*=f);else if(\"rings\"in i)t(i,i.rings,f);else if(\"paths\"in i)t(i,i.paths,f);else if(\"points\"in i&&(null==i.hasM||i.hasZ))for(const n of i.points)n.length>2&&(n[2]*=f)}export{i as unapplyEditsZUnitScaling};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{getGeometryZScaler as e}from\"../../../geometry/support/zscale.js\";function t(t,o,r){if(!r?.features||!r.hasZ)return;const f=e(r.geometryType,o,t.outSpatialReference);if(null!=f)for(const e of r.features)f(e.geometry)}export{t as applyFeatureSetZUnitScaling};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{geometryTypes as t}from\"../../geometry.js\";import r from\"../../Graphic.js\";import{JSONMap as o}from\"../../core/jsonMap.js\";import{JSONSupport as s}from\"../../core/JSONSupport.js\";import{clone as n}from\"../../core/lang.js\";import{property as i}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import{reader as l}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as p}from\"../../core/accessorSupport/decorators/writer.js\";import m from\"../../geometry/SpatialReference.js\";import{fromJSON as c,isPolygon as f}from\"../../geometry/support/jsonUtils.js\";import u from\"../../layers/support/Field.js\";var y;const h=new o({esriGeometryPoint:\"point\",esriGeometryMultipoint:\"multipoint\",esriGeometryPolyline:\"polyline\",esriGeometryPolygon:\"polygon\",esriGeometryEnvelope:\"extent\",mesh:\"mesh\",\"\":null});let g=y=class extends s{constructor(e){super(e),this.displayFieldName=null,this.exceededTransferLimit=!1,this.features=[],this.fields=null,this.geometryType=null,this.hasM=!1,this.hasZ=!1,this.queryGeometry=null,this.spatialReference=null}readFeatures(e,t){const o=m.fromJSON(t.spatialReference),s=[];for(let n=0;n<e.length;n++){const t=e[n],i=r.fromJSON(t),l=t.geometry?.spatialReference;null==i.geometry||l||(i.geometry.spatialReference=o);const a=t.aggregateGeometries,p=i.aggregateGeometries;if(a&&null!=p)for(const e in p){const t=p[e],r=a[e],s=r?.spatialReference;null==t||s||(t.spatialReference=o)}s.push(i)}return s}writeGeometryType(e,t,r,o){if(e)return void h.write(e,t,r,o);const{features:s}=this;if(s)for(const n of s)if(null!=n?.geometry)return void h.write(n.geometry.type,t,r,o)}readQueryGeometry(e,t){if(!e)return null;const r=!!e.spatialReference,o=c(e);return o&&!r&&t.spatialReference&&(o.spatialReference=m.fromJSON(t.spatialReference)),o}writeSpatialReference(e,t){if(e)return void(t.spatialReference=e.toJSON());const{features:r}=this;if(r)for(const o of r)if(o&&null!=o.geometry&&o.geometry.spatialReference)return void(t.spatialReference=o.geometry.spatialReference.toJSON())}clone(){return new y(this.cloneProperties())}cloneProperties(){return n({displayFieldName:this.displayFieldName,exceededTransferLimit:this.exceededTransferLimit,features:this.features,fields:this.fields,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,queryGeometry:this.queryGeometry,spatialReference:this.spatialReference,transform:this.transform})}toJSON(e){const t=this.write();if(t.features&&Array.isArray(e)&&e.length>0)for(let r=0;r<t.features.length;r++){const o=t.features[r];if(o.geometry){const t=e?.[r];o.geometry=t?.toJSON()||o.geometry}}return t}quantize(e){const{scale:[t,r],translate:[o,s]}=e,n=e=>Math.round((e-o)/t),i=e=>Math.round((s-e)/r),l=this.features,a=this._getQuantizationFunction(this.geometryType,n,i);for(let p=0,m=l.length;p<m;p++)a?.(l[p].geometry)||(l.splice(p,1),p--,m--);return this.transform=e,this}unquantize(){const{geometryType:e,features:t,transform:r}=this;if(!r)return this;const{translate:[o,s],scale:[n,i]}=r,l=e=>e*n+o,a=e=>s-e*i;let p=null,m=null;if(this.hasZ&&null!=r?.scale?.[2]){const{translate:[,,e],scale:[,,t]}=r;p=r=>r*t+e}if(this.hasM&&null!=r?.scale?.[3]){const{translate:[,,,e],scale:[,,,t]}=r;m=r=>null==r?r:r*t+e}const c=this._getHydrationFunction(e,l,a,p,m);for(const{geometry:f}of t)null!=f&&c&&c(f);return this.transform=null,this}_quantizePoints(e,t,r){let o,s;const n=[];for(let i=0,l=e.length;i<l;i++){const l=e[i];if(i>0){const e=t(l[0]),i=r(l[1]);e===o&&i===s||(n.push([e-o,i-s]),o=e,s=i)}else o=t(l[0]),s=r(l[1]),n.push([o,s])}return n.length>0?n:null}_getQuantizationFunction(e,t,r){return\"point\"===e?e=>(e.x=t(e.x),e.y=r(e.y),e):\"polyline\"===e||\"polygon\"===e?e=>{const o=f(e)?e.rings:e.paths,s=[];for(let n=0,i=o.length;n<i;n++){const e=o[n],i=this._quantizePoints(e,t,r);i&&s.push(i)}return s.length>0?(f(e)?e.rings=s:e.paths=s,e):null}:\"multipoint\"===e?e=>{const o=this._quantizePoints(e.points,t,r);return o&&o.length>0?(e.points=o,e):null}:\"extent\"===e?e=>e:null}_getHydrationFunction(e,t,r,o,s){return\"point\"===e?e=>{e.x=t(e.x),e.y=r(e.y),o&&(e.z=o(e.z))}:\"polyline\"===e||\"polygon\"===e?e=>{const n=f(e)?e.rings:e.paths;let i,l;for(let o=0,s=n.length;o<s;o++){const e=n[o];for(let o=0,s=e.length;o<s;o++){const s=e[o];o>0?(i+=s[0],l+=s[1]):(i=s[0],l=s[1]),s[0]=t(i),s[1]=r(l)}}if(o&&s)for(let t=0,r=n.length;t<r;t++){const e=n[t];for(let t=0,r=e.length;t<r;t++){const r=e[t];r[2]=o(r[2]),r[3]=s(r[3])}}else if(o)for(let t=0,r=n.length;t<r;t++){const e=n[t];for(let t=0,r=e.length;t<r;t++){const r=e[t];r[2]=o(r[2])}}else if(s)for(let t=0,r=n.length;t<r;t++){const e=n[t];for(let t=0,r=e.length;t<r;t++){const r=e[t];r[2]=s(r[2])}}}:\"extent\"===e?e=>{e.xmin=t(e.xmin),e.ymin=r(e.ymin),e.xmax=t(e.xmax),e.ymax=r(e.ymax),o&&null!=e.zmax&&null!=e.zmin&&(e.zmax=o(e.zmax),e.zmin=o(e.zmin)),s&&null!=e.mmax&&null!=e.mmin&&(e.mmax=s(e.mmax),e.mmin=s(e.mmin))}:\"multipoint\"===e?e=>{const n=e.points;let i,l;for(let o=0,s=n.length;o<s;o++){const e=n[o];o>0?(i+=e[0],l+=e[1]):(i=e[0],l=e[1]),e[0]=t(i),e[1]=r(l)}if(o&&s)for(let t=0,r=n.length;t<r;t++){const e=n[t];e[2]=o(e[2]),e[3]=s(e[3])}else if(o)for(let t=0,r=n.length;t<r;t++){const e=n[t];e[2]=o(e[2])}else if(s)for(let t=0,r=n.length;t<r;t++){const e=n[t];e[2]=s(e[2])}}:null}};e([i({type:String,json:{write:!0}})],g.prototype,\"displayFieldName\",void 0),e([i({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],g.prototype,\"exceededTransferLimit\",void 0),e([i({type:[r],json:{write:!0}})],g.prototype,\"features\",void 0),e([l(\"features\")],g.prototype,\"readFeatures\",null),e([i({type:[u],json:{write:!0}})],g.prototype,\"fields\",void 0),e([i({type:[\"point\",\"multipoint\",\"polyline\",\"polygon\",\"extent\",\"mesh\"],json:{read:{reader:h.read}}})],g.prototype,\"geometryType\",void 0),e([p(\"geometryType\")],g.prototype,\"writeGeometryType\",null),e([i({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],g.prototype,\"hasM\",void 0),e([i({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],g.prototype,\"hasZ\",void 0),e([i({types:t,json:{write:!0}})],g.prototype,\"queryGeometry\",void 0),e([l(\"queryGeometry\")],g.prototype,\"readQueryGeometry\",null),e([i({type:m,json:{write:!0}})],g.prototype,\"spatialReference\",void 0),e([p(\"spatialReference\")],g.prototype,\"writeSpatialReference\",null),e([i({json:{write:!0}})],g.prototype,\"transform\",void 0),g=y=e([a(\"esri.rest.support.FeatureSet\")],g),g.prototype.toJSON.isDefaultToJSON=!0;const d=g;export{d as default};\n"],"names":["t","n","e","hasM","hasZ","i","length","s","o","geometry","spatialReference","f","z","rings","paths","points","r","features","geometryType","outSpatialReference","y","h","esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon","esriGeometryEnvelope","mesh","g","constructor","super","this","displayFieldName","exceededTransferLimit","fields","queryGeometry","readFeatures","m","fromJSON","_t$geometry","l","a","aggregateGeometries","p","push","writeGeometryType","write","type","readQueryGeometry","c","writeSpatialReference","toJSON","clone","cloneProperties","transform","Array","isArray","quantize","scale","translate","_getQuantizationFunction","Math","round","splice","unquantize","_r$scale","_r$scale2","_getHydrationFunction","_quantizePoints","x","xmin","ymin","xmax","ymax","zmax","zmin","mmax","mmin","String","json","prototype","Boolean","overridePolicy","enabled","u","read","reader","types","isDefaultToJSON","d"],"sourceRoot":""}