{"version":3,"file":"static/js/1448.9655bde4.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/layers/support/ExpressionInfo.js","../node_modules/@arcgis/core/layers/support/AggregateField.js","../node_modules/@arcgis/core/layers/support/FeatureReductionBinning.js","../node_modules/@arcgis/core/layers/support/FeatureReductionCluster.js","../node_modules/@arcgis/core/layers/support/featureReductionUtils.js","../node_modules/@arcgis/core/views/2d/layers/support/clusterUtils.js","../node_modules/@arcgis/core/layers/mixins/FeatureReductionLayer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import{ClonableMixin as o}from\"../../core/Clonable.js\";import{JSONSupport as t}from\"../../core/JSONSupport.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as e}from\"../../core/accessorSupport/decorators/subclass.js\";let p=class extends(o(t)){constructor(r){super(r),this.expression=null,this.title=null,this.returnType=null}};r([s({type:String,json:{write:!0}})],p.prototype,\"expression\",void 0),r([s({type:String,json:{write:!0}})],p.prototype,\"title\",void 0),r([s({type:String,json:{write:!0}})],p.prototype,\"returnType\",void 0),p=r([e(\"esri.layers.support.ExpressionInfo\")],p);const i=p;export{i as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import{JSONSupport as s}from\"../../core/JSONSupport.js\";import{clone as o}from\"../../core/lang.js\";import{property as i}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import{subclass as e}from\"../../core/accessorSupport/decorators/subclass.js\";import r from\"./ExpressionInfo.js\";var p;let n=p=class extends s{constructor(t){super(t),this.isAutoGenerated=!1,this.name=null,this.alias=null,this.onStatisticField=null,this.onStatisticExpression=null,this.statisticType=null}clone(){return new p({name:this.name,alias:this.alias,isAutoGenerated:this.isAutoGenerated,onStatisticExpression:o(this.onStatisticExpression),onStatisticField:this.onStatisticField,statisticType:this.statisticType})}};t([i({type:Boolean,json:{write:!0}})],n.prototype,\"isAutoGenerated\",void 0),t([i({type:String,json:{write:!0}})],n.prototype,\"name\",void 0),t([i({type:String,json:{write:!0}})],n.prototype,\"alias\",void 0),t([i({type:String,json:{write:!0}})],n.prototype,\"onStatisticField\",void 0),t([i({type:r,json:{write:!0}})],n.prototype,\"onStatisticExpression\",void 0),t([i({type:String,json:{write:!0}})],n.prototype,\"statisticType\",void 0),n=p=t([e(\"esri.layers.support.AggregateField\")],n);const a=n;export{a as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import r from\"../../PopupTemplate.js\";import\"../../renderers/ClassBreaksRenderer.js\";import\"../../renderers/DictionaryRenderer.js\";import\"../../renderers/DotDensityRenderer.js\";import\"../../renderers/HeatmapRenderer.js\";import\"../../renderers/PieChartRenderer.js\";import\"../../renderers/Renderer.js\";import\"../../renderers/SimpleRenderer.js\";import\"../../renderers/UniqueValueRenderer.js\";import{read as o}from\"../../renderers/support/jsonUtils.js\";import{rendererTypes as t}from\"../../renderers/support/types.js\";import{clone as s}from\"../../core/lang.js\";import{setDeepValue as i}from\"../../core/object.js\";import{property as p}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import{enumeration as n}from\"../../core/accessorSupport/decorators/enumeration.js\";import{reader as a}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as l}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as d}from\"../../core/accessorSupport/decorators/writer.js\";import m from\"./AggregateField.js\";import{labelsVisible as c,popupEnabled as f}from\"./commonProperties.js\";import{createDefaultRenderer as u}from\"./featureLayerUtils.js\";import{FeatureReduction as j}from\"./FeatureReduction.js\";import b from\"./LabelClass.js\";var y;const g=\"esri.layers.support.FeatureReductionBinning\";let h=y=class extends j{constructor(e){super(e),this.type=\"binning\",this.binType=\"geohash\",this.fixedBinLevel=3,this.labelingInfo=null,this.labelsVisible=!0,this.maxScale=0,this.popupEnabled=!0,this.popupTemplate=null,this.fields=[],this.renderer=null}writeFields(e,r,o){const t=e.filter((e=>\"avg_angle\"!==e.statisticType)).map((e=>e.toJSON()));i(o,t,r)}readRenderer(e,r,t){const s=r.drawingInfo?.renderer;return s?o(s,r,t)??void 0:u(r,t)}clone(){return new y({fields:s(this.fields),fixedBinLevel:this.fixedBinLevel,labelingInfo:s(this.labelingInfo),labelsVisible:this.labelsVisible,maxScale:this.maxScale,popupEnabled:this.popupEnabled,popupTemplate:s(this.popupTemplate),renderer:s(this.renderer)})}};e([n({binning:\"binning\"})],h.prototype,\"type\",void 0),e([n({geohash:\"geohash\"})],h.prototype,\"binType\",void 0),e([p({type:Number,range:{min:1,max:9},json:{write:!0}})],h.prototype,\"fixedBinLevel\",void 0),e([p({type:[b],json:{read:{source:\"drawingInfo.labelingInfo\"},write:{target:\"drawingInfo.labelingInfo\"}}})],h.prototype,\"labelingInfo\",void 0),e([p(c)],h.prototype,\"labelsVisible\",void 0),e([p({type:Number,json:{default:0,name:\"visibilityInfo.maxScale\"}})],h.prototype,\"maxScale\",void 0),e([p(f)],h.prototype,\"popupEnabled\",void 0),e([p({type:r,json:{name:\"popupInfo\",write:!0}})],h.prototype,\"popupTemplate\",void 0),e([p({type:[m],json:{write:!0}})],h.prototype,\"fields\",void 0),e([d(\"fields\")],h.prototype,\"writeFields\",null),e([p({types:t,json:{write:{target:\"drawingInfo.renderer\"}}})],h.prototype,\"renderer\",void 0),e([a(\"renderer\",[\"drawingInfo.renderer\"])],h.prototype,\"readRenderer\",null),h=y=e([l(g)],h);const v=h;export{v as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import r from\"../../PopupTemplate.js\";import\"../../renderers/ClassBreaksRenderer.js\";import\"../../renderers/DictionaryRenderer.js\";import\"../../renderers/DotDensityRenderer.js\";import\"../../renderers/HeatmapRenderer.js\";import\"../../renderers/PieChartRenderer.js\";import\"../../renderers/Renderer.js\";import t from\"../../renderers/SimpleRenderer.js\";import\"../../renderers/UniqueValueRenderer.js\";import{read as o}from\"../../renderers/support/jsonUtils.js\";import{rendererTypes as s}from\"../../renderers/support/types.js\";import{symbolTypesCluster as i}from\"../../symbols.js\";import{JSONSupport as p}from\"../../core/JSONSupport.js\";import{clone as n}from\"../../core/lang.js\";import{setDeepValue as l}from\"../../core/object.js\";import{toPt as a}from\"../../core/screenUtils.js\";import{property as d}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import{reader as u}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as m}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as c}from\"../../core/accessorSupport/decorators/writer.js\";import f from\"./AggregateField.js\";import{popupEnabled as y,labelsVisible as b}from\"./commonProperties.js\";import{createDefaultRenderer as j}from\"./featureLayerUtils.js\";import h from\"./LabelClass.js\";var g;const S=\"esri.layers.support.FeatureReductionCluster\";function w(e){return\"simple\"===e.type&&!e.visualVariables?.length}let I=g=class extends p{constructor(e){super(e),this.type=\"cluster\",this.clusterRadius=a(\"80px\"),this.clusterMinSize=a(\"12px\"),this.clusterMaxSize=a(\"50px\"),this.maxScale=0,this.popupEnabled=!0,this.popupTemplate=null,this.renderer=null,this.symbol=null,this.labelingInfo=null,this.labelsVisible=!0,this.fields=[]}readRenderer(e,r,t){const s=r.drawingInfo?.renderer;return s?.authoringInfo?.isAutoGenerated?null:s?w(s)?null:o(s,r,t)??void 0:j(r,t)}readSymbol(e,r,t){const s=r.drawingInfo?.renderer;if(s?.authoringInfo?.isAutoGenerated)return null;if(s&&w(s)){const e=o(s,r,t);return e?.symbol}return null}writeSymbol(e,r,o,s){const i=this.renderer?.authoringInfo?.isAutoGenerated;if(!this.renderer||i){const o=new t({symbol:e});r.drawingInfo={renderer:o.write({},s)}}}writeFields(e,r,t){const o=e.filter((e=>\"avg_angle\"!==e.statisticType)).map((e=>e.toJSON()));l(t,o,r)}readFields(e,r,t){return e.filter((e=>!e.isAutoGenerated)).map((e=>f.fromJSON(e)))}clone(){return new g({clusterRadius:this.clusterRadius,clusterMinSize:this.clusterMinSize,clusterMaxSize:this.clusterMaxSize,labelingInfo:n(this.labelingInfo),labelsVisible:this.labelsVisible,fields:n(this.fields),maxScale:this.maxScale,renderer:n(this.renderer),symbol:n(this.symbol),popupEnabled:this.popupEnabled,popupTemplate:n(this.popupTemplate)})}};e([d({type:[\"cluster\"],readOnly:!0,json:{write:!0}})],I.prototype,\"type\",void 0),e([d({type:Number,cast:e=>\"auto\"===e?e:a(e),json:{write:!0}})],I.prototype,\"clusterRadius\",void 0),e([d({type:Number,cast:a,json:{write:!0}})],I.prototype,\"clusterMinSize\",void 0),e([d({type:Number,cast:a,json:{write:!0}})],I.prototype,\"clusterMaxSize\",void 0),e([d({type:Number,json:{default:0,name:\"visibilityInfo.maxScale\"}})],I.prototype,\"maxScale\",void 0),e([d(y)],I.prototype,\"popupEnabled\",void 0),e([d({type:r,json:{read:{source:\"popupInfo\"},write:{target:\"popupInfo\"}}})],I.prototype,\"popupTemplate\",void 0),e([d({types:s,json:{write:{target:\"drawingInfo.renderer\"}}})],I.prototype,\"renderer\",void 0),e([u(\"renderer\",[\"drawingInfo.renderer\"])],I.prototype,\"readRenderer\",null),e([d({types:i})],I.prototype,\"symbol\",void 0),e([u(\"symbol\",[\"drawingInfo.renderer\"])],I.prototype,\"readSymbol\",null),e([c(\"symbol\")],I.prototype,\"writeSymbol\",null),e([d({type:[h],json:{read:{source:\"drawingInfo.labelingInfo\"},write:{target:\"drawingInfo.labelingInfo\"}}})],I.prototype,\"labelingInfo\",void 0),e([d(b)],I.prototype,\"labelsVisible\",void 0),e([d({type:[f],json:{write:!0}})],I.prototype,\"fields\",void 0),e([c(\"fields\")],I.prototype,\"writeFields\",null),e([u(\"fields\")],I.prototype,\"readFields\",null),I=g=e([m(S)],I);const v=I;export{v as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{excludeTables as e}from\"../../core/accessorSupport/layerContainerType.js\";import{FeatureReduction as t}from\"./FeatureReduction.js\";import i from\"./FeatureReductionBinning.js\";import r from\"./FeatureReductionCluster.js\";import n from\"./FeatureReductionSelection.js\";const o={key:\"type\",base:t,typeMap:{cluster:r,binning:i}},p={types:{key:\"type\",base:t,typeMap:{selection:n,cluster:r,binning:i}},json:{name:\"layerDefinition.featureReduction\",write:{allowNull:!0},origins:{\"web-map\":{types:o},\"portal-item\":{types:o},\"web-scene\":{types:{key:\"type\",base:t,typeMap:{selection:n}},name:\"layerDefinition.featureReduction\",write:{layerContainerTypes:e}}}}};export{p as featureReductionProperty};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport\"../../../../renderers/ClassBreaksRenderer.js\";import\"../../../../renderers/DictionaryRenderer.js\";import\"../../../../renderers/DotDensityRenderer.js\";import\"../../../../renderers/HeatmapRenderer.js\";import\"../../../../renderers/PieChartRenderer.js\";import\"../../../../renderers/Renderer.js\";import e from\"../../../../renderers/SimpleRenderer.js\";import\"../../../../renderers/UniqueValueRenderer.js\";import\"../../../../renderers/support/jsonUtils.js\";import r from\"../../../../core/Logger.js\";import\"../../../../symbols.js\";import s from\"../../../../core/Error.js\";import has from\"../../../../core/has.js\";import{createMD5Hash as n}from\"../../../../core/MD5.js\";import i from\"../../../../layers/support/AggregateField.js\";import t from\"../../../../layers/support/ExpressionInfo.js\";import o from\"../../../../renderers/support/AuthoringInfo.js\";import a from\"../../../../symbols/SimpleMarkerSymbol.js\";const l=()=>r.getLogger(\"esri.views.2d.layers.support.clusterUtils\");has.add(\"esri-cluster-arcade-enabled\",!0);const u=has(\"esri-cluster-arcade-enabled\"),p=new Set([\"simple-line\",\"simple-fill\",\"picture-fill\"]);function d(r,s){let n=s.clone();if(!c(n))return n;if(s.getSymbols().some((e=>p.has(e.type)))&&(n=new e({symbol:new a})),n.authoringInfo||(n.authoringInfo=new o),n.authoringInfo.isAutoGenerated=!0,\"visualVariables\"in n){const e=(n.visualVariables||[]).filter((e=>\"$view.scale\"!==e.valueExpression));e.forEach((e=>{\"rotation\"===e.type?e.field?e.field=g(r,e.field,\"avg_angle\",\"number\"):e.valueExpression&&(e.field=b(r,e.valueExpression,\"avg_angle\",\"number\"),e.valueExpression=null):e.normalizationField?(e.field=g(r,e.field,\"avg_norm\",\"number\",e.normalizationField),e.normalizationField=null):e.field?e.field=g(r,e.field,\"avg\",\"number\"):e.valueExpression&&(e.field=b(r,e.valueExpression,\"avg\",\"number\"),e.valueExpression=null)})),n.visualVariables=e}switch(n.type){case\"simple\":break;case\"pie-chart\":for(const e of n.attributes)e.field?e.field=g(r,e.field,\"sum\",\"number\"):e.valueExpression&&(e.field=b(r,e.valueExpression,\"sum\",\"number\"),e.valueExpression=null);break;case\"unique-value\":n.field?n.field=g(r,n.field,\"mode\",\"string\"):n.valueExpression&&(n.field=b(r,n.valueExpression,\"mode\",\"string\"),n.valueExpression=null);break;case\"class-breaks\":n.normalizationField?(n.field=g(r,n.field,\"avg_norm\",\"number\",n.normalizationField),n.normalizationField=null):n.field?n.field=g(r,n.field,\"avg\",\"number\"):n.valueExpression&&(n.field=b(r,n.valueExpression,\"avg\",\"number\"),n.valueExpression=null)}return n}const m=e=>{for(const r of e)if(\"size\"===r.type)return r;return null},f=e=>{for(const r of e)if(\"cluster_count\"===r.field)return!0;return!1},c=e=>{const r=r=>l().error(new s(\"Unsupported-renderer\",r,{renderer:e}));if(!e)return!1;switch(e.type){case\"unique-value\":if(e.field2||e.field3)return r(\"FeatureReductionCluster does not support multi-field UniqueValueRenderers\"),!1;break;case\"class-breaks\":if(e.normalizationField){const s=e.normalizationType;if(\"field\"!==s)return r(`FeatureReductionCluster does not support a normalizationType of ${s}`),!1}break;case\"simple\":case\"pie-chart\":break;default:return r(`FeatureReductionCluster does not support renderers of type ${e.type}`),!1}if(!u){if(\"valueExpression\"in e&&e.valueExpression)return r(\"FeatureReductionCluster does not currently support renderer.valueExpression. Support will be added in a future release\"),!1;if((\"visualVariables\"in e&&e.visualVariables||[]).some((e=>!(!(\"valueExpression\"in e)||!e.valueExpression))))return r(\"FeatureReductionCluster does not currently support visualVariables with a valueExpression. Support will be added in a future release\"),!1}return!0};function v(e,r,s){switch(e){case\"sum\":return`cluster_sum_${r}`;case\"avg\":case\"avg_angle\":return`cluster_avg_${r}`;case\"mode\":return`cluster_type_${r}`;case\"avg_norm\":{const e=s,i=\"field\",t=r.toLowerCase()+\",norm:\"+i+\",\"+e.toLowerCase();return\"cluster_avg_\"+n(t)}}}function b(e,r,s,o){const a=n(r),l=\"mode\"===s?`cluster_type_${a}`:\"sum\"===s?`cluster_sum_${a}`:`cluster_avg_${a}`;return e.some((e=>e.name===l))||e.push(new i({name:l,isAutoGenerated:!0,onStatisticExpression:new t({expression:r,returnType:o}),statisticType:s})),l}function g(e,r,s,n,o){if(\"cluster_count\"===r||e.some((e=>e.name===r)))return r;const a=v(s,r,o);return e.some((e=>e.name===a))||(\"avg_norm\"===s?e.push(new i({name:a,isAutoGenerated:!0,onStatisticExpression:new t({expression:`$feature.${r} / $feature.${o}`,returnType:n}),statisticType:\"avg\"})):e.push(new i({name:a,isAutoGenerated:!0,onStatisticField:r,statisticType:s}))),a}export{d as createInferredClusterRenderer,m as findSizeVV,f as hasClusterCountVV,c as isClusterCompatibleRenderer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../renderers/ClassBreaksRenderer.js\";import\"../../renderers/DictionaryRenderer.js\";import\"../../renderers/DotDensityRenderer.js\";import\"../../renderers/HeatmapRenderer.js\";import\"../../renderers/PieChartRenderer.js\";import\"../../renderers/Renderer.js\";import r from\"../../renderers/SimpleRenderer.js\";import\"../../renderers/UniqueValueRenderer.js\";import\"../../renderers/support/jsonUtils.js\";import\"../../core/Logger.js\";import{watch as s,sync as t}from\"../../core/reactiveUtils.js\";import{property as i}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{subclass as n}from\"../../core/accessorSupport/decorators/subclass.js\";import o from\"../support/AggregateField.js\";import{featureReductionProperty as a}from\"../support/featureReductionUtils.js\";import u from\"../../renderers/visualVariables/SizeVariable.js\";import l from\"../../renderers/visualVariables/support/SizeStop.js\";import{createInferredClusterRenderer as d}from\"../../views/2d/layers/support/clusterUtils.js\";const c=c=>{let p=class extends c{constructor(...e){super(...e),this.addHandles(s((()=>this.renderer),(()=>{if(this.featureReduction){const e=this._normalizeFeatureReduction(this.featureReduction);this._set(\"featureReduction\",e)}}),t))}set featureReduction(e){const r=this._normalizeFeatureReduction(e);this._set(\"featureReduction\",r)}set renderer(e){}_withClusterVariable(e,r,s){const t=e.clone();if(\"visualVariables\"in t){t.visualVariables||(t.visualVariables=[]);t.visualVariables.some((e=>\"size\"===e.type))||t.visualVariables.push(new u({field:\"cluster_count\",stops:[new l({value:1}),new l({useMinValue:!0,size:r}),new l({useMaxValue:!0,size:s})]}))}return t}_normalizeFeatureReduction(e){if(\"cluster\"!==e?.type)return e;const s=e.clone(),t=[new o({name:\"cluster_count\",isAutoGenerated:!0,statisticType:\"count\"})],i=(s.fields??[]).filter((e=>!e.isAutoGenerated)),n=e.renderer&&!e.renderer.authoringInfo?.isAutoGenerated,{clusterMinSize:a,clusterMaxSize:u}=s;if(n){s.fields=[...t,...i];const e=this._withClusterVariable(s.renderer,a,u);return s.effectiveFeatureRenderer=e,s.effectiveClusterRenderer=e,s}if(e.symbol){if(s.fields=[...t,...i],s.renderer=null,!this.renderer)return s.effectiveFeatureRenderer=null,s.effectiveClusterRenderer=null,s;const n=d(t,this.renderer),o=this._withClusterVariable(n,a,u),l=\"visualVariables\"in o&&o.visualVariables?o.visualVariables:[],c=new r({symbol:e.symbol,visualVariables:l});return s.fields=[...t,...i],s.effectiveFeatureRenderer=o,s.effectiveClusterRenderer=c,s}if(!this.renderer)return e;const l=d(t,this.renderer);s.fields=[...t,...i],s.renderer=l;const c=this._withClusterVariable(l,a,u);return s.effectiveFeatureRenderer=c,s.effectiveClusterRenderer=c,s}};return e([i(a)],p.prototype,\"featureReduction\",null),p=e([n(\"esri.layers.mixins.FeatureReductionLayer\")],p),p};export{c as FeatureReductionLayer};\n"],"names":["p","o","t","constructor","r","super","this","expression","title","returnType","s","type","String","json","write","prototype","e","i","n","isAutoGenerated","name","alias","onStatisticField","onStatisticExpression","statisticType","clone","Boolean","a","y","h","j","binType","fixedBinLevel","labelingInfo","labelsVisible","maxScale","popupEnabled","popupTemplate","fields","renderer","writeFields","filter","map","toJSON","readRenderer","_r$drawingInfo","_o","drawingInfo","u","binning","geohash","Number","range","min","max","b","read","source","target","c","default","f","m","d","types","l","v","g","w","_e$visualVariables","visualVariables","length","I","clusterRadius","clusterMinSize","clusterMaxSize","symbol","_s$authoringInfo","authoringInfo","readSymbol","_r$drawingInfo2","_s$authoringInfo2","writeSymbol","_this$renderer","readFields","fromJSON","readOnly","cast","key","base","typeMap","cluster","selection","allowNull","origins","layerContainerTypes","has","add","Set","getSymbols","some","valueExpression","forEach","field","normalizationField","attributes","getLogger","error","field2","field3","normalizationType","concat","push","toLowerCase","arguments","addHandles","featureReduction","_normalizeFeatureReduction","_set","_withClusterVariable","stops","value","useMinValue","size","useMaxValue","_s$fields","_e$renderer$authoring","effectiveFeatureRenderer","effectiveClusterRenderer"],"sourceRoot":""}