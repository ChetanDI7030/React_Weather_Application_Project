"use strict";(self.webpackChunkweather_app=self.webpackChunkweather_app||[]).push([[7591,4920],{53521:(e,t,i)=>{i.d(t,{q:()=>r});var s=i(79369);class r{constructor(e,t){this._storage=new s.F,this.id="",this.name="",this.size=0,this._storage.maxSize=e,this._storage.register(this),t&&this._storage.registerRemoveFunc("",t)}destroy(){this._storage.deregister(this),this._storage.destroy()}put(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this._storage.put(this,e,t,i,1)}pop(e){return this._storage.pop(this,e)}get(e){return this._storage.get(this,e)}clear(){this._storage.clearAll()}get maxSize(){return this._storage.maxSize}set maxSize(e){this._storage.maxSize=e}resetHitRate(){}}},79369:(e,t,i)=>{i.d(t,{F:()=>n,Mn:()=>o});var s=i(30015);var r;!function(e){e[e.ALL=0]="ALL",e[e.SOME=1]="SOME"}(r||(r={}));class o{constructor(e,t,i){this.name=e,this._storage=t,this.id=l+++":",this.size=0,this.maxSize=-1,this._removeFunc=!1,this._hit=0,this._miss=0,this._storage.register(this),i&&(this._storage.registerRemoveFunc(this.id,i),this._removeFunc=!0)}destroy(){this._storage.clear(this),this._removeFunc&&this._storage.deregisterRemoveFunc(this.id),this._storage.deregister(this),this._storage=null}get hitRate(){return this._hit/(this._hit+this._miss)}get storageSize(){return this._storage.size}getSize(e){return this._storage.getSize(this,e)}resetHitRate(){this._hit=this._miss=0}put(e,t,i){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this._storage.put(this,e,t,i,s)}pop(e){const t=this._storage.pop(this,e);return void 0===t?++this._miss:++this._hit,t}get(e){const t=this._storage.get(this,e);return void 0===t?++this._miss:++this._hit,t}peek(e){return this._storage.peek(this,e)}updateSize(e,t,i){this._storage.updateSize(this,e,t,i)}clear(){this._storage.clear(this)}clearAll(){this._storage.clearAll()}get performanceInfo(){return this._storage.performanceInfo}resetStats(){this._storage.resetStats()}}class n{get size(){return this._size}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10485760;this._maxSize=e,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=new s.A,this._users=new s.A}destroy(){this.clearAll(),this._removeFuncs.clear(),this._users.clear(),this._db=null}register(e){this._users.push(e)}deregister(e){this._users.removeUnordered(e)}registerRemoveFunc(e,t){this._removeFuncs.push([e,t])}deregisterRemoveFunc(e){this._removeFuncs.filterInPlace((t=>t[0]!==e))}get maxSize(){return this._maxSize}set maxSize(e){this._maxSize=Math.max(e,-1),this._checkSize()}getSize(e,t){var i;const s=this._db.get(e.id+t);return null!==(i=null===s||void 0===s?void 0:s.size)&&void 0!==i?i:0}put(e,t,i,s,o){t=e.id+t;const n=this._db.get(t);if(n&&(this._size-=n.size,e.size-=n.size,this._db.delete(t),n.entry!==i&&this._notifyRemove(t,n.entry,n.size,r.ALL)),s>this._maxSize)return void this._notifyRemove(t,i,s,r.ALL);if(void 0===i)return void console.warn("Refusing to cache undefined entry ");if(!s||s<0)return console.warn("Refusing to cache entry with size ".concat(s," for key ").concat(t)),void this._notifyRemove(t,i,0,r.ALL);const l=1+Math.max(o,-4)- -3;this._db.set(t,new a(i,s,l)),this._size+=s,e.size+=s,this._checkSize()}updateSize(e,t,i,s){t=e.id+t;const o=this._db.get(t);if(o&&o.entry===i){for(this._size-=o.size,e.size-=o.size;s>this._maxSize;){const e=this._notifyRemove(t,i,s,r.SOME);if(!(null!=e&&e>0))return void this._db.delete(t);s=e}o.size=s,this._size+=s,e.size+=s,this._checkSize()}}pop(e,t){t=e.id+t;const i=this._db.get(t);if(i)return this._size-=i.size,e.size-=i.size,this._db.delete(t),++this._hit,i.entry;++this._miss}get(e,t){t=e.id+t;const i=this._db.get(t);if(void 0!==i)return this._db.delete(t),i.lives=i.lifetime,this._db.set(t,i),++this._hit,i.entry;++this._miss}peek(e,t){const i=this._db.get(e.id+t);return i?++this._hit:++this._miss,null===i||void 0===i?void 0:i.entry}get performanceInfo(){const e={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},t={},i=new Array;this._db.forEach(((e,s)=>{const r=e.lifetime;i[r]=(i[r]||0)+e.size,this._users.forAll((i=>{const{id:r,name:o}=i;if(s.startsWith(r)){const i=t[o]||0;t[o]=i+e.size}}))}));const s={};this._users.forAll((e=>{const i=e.name;if("hitRate"in e&&"number"==typeof e.hitRate&&!isNaN(e.hitRate)&&e.hitRate>0){const r=t[i]||0;t[i]=r,s[i]=Math.round(100*e.hitRate)+"%"}else s[i]="0%"}));const r=Object.keys(t);r.sort(((e,i)=>t[i]-t[e])),r.forEach((i=>e[i]=Math.round(t[i]/2**20)+"MB / "+s[i]));for(let o=i.length-1;o>=0;--o){const t=i[o];t&&(e["Priority "+(o+-3-1)]=Math.round(t/this._size*100)+"%")}return e}resetStats(){this._hit=this._miss=0,this._users.forAll((e=>e.resetHitRate()))}clear(e){const t=e.id;this._db.forEach(((e,i)=>{i.startsWith(t)&&(this._size-=e.size,this._db.delete(i),this._notifyRemove(i,e.entry,e.size,r.ALL))})),e.size=0}clearAll(){this._db.forEach(((e,t)=>this._notifyRemove(t,e.entry,e.size,r.ALL))),this._users.forAll((e=>e.size=0)),this._size=0,this._db.clear()}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemove(e,t,i,s){let r;return this._removeFuncs.some((o=>{if(e.startsWith(o[0])){const e=o[1](t,s,i);return"number"==typeof e&&(r=e),!0}return!1})),r}_checkSize(){this._users.forAll((e=>this._checkSizeLimits(e))),this._checkSizeLimits()}_checkSizeLimits(e){const t=null!==e&&void 0!==e?e:this;if(t.maxSize<0||t.size<=t.maxSize)return;const i=null===e||void 0===e?void 0:e.id;let s=!0;for(;s;){s=!1;for(const[r,o]of this._db)if(0===o.lifetime&&(!i||r.startsWith(i))){if(this._purgeItem(r,o,e),t.size<=.9*t.maxSize)return;s||(s=this._db.has(r))}}for(const[r,o]of this._db)if((!i||r.startsWith(i))&&(this._purgeItem(r,o,e),t.size<=.9*t.maxSize))return}_purgeItem(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._users.find((t=>e.startsWith(t.id)));if(this._db.delete(e),t.lives<=1){this._size-=t.size,i&&(i.size-=t.size);const s=this._notifyRemove(e,t.entry,t.size,r.SOME);null!=s&&s>0&&(this._size+=s,i&&(i.size+=s),t.lives=t.lifetime,t.size=s,this._db.set(e,t))}else--t.lives,this._db.set(e,t)}}let l=0;class a{constructor(e,t,i){this.entry=e,this.size=t,this.lifetime=i,this.lives=i}}},64920:(e,t,i)=>{i.d(t,{GB:()=>r,Qo:()=>n,Y4:()=>o});var s=i(24241);class r{}function o(e){return e instanceof s.bo?e===r.instance:"unknown"===(null===e||void 0===e?void 0:e.toString().toLowerCase())}function n(e){return o(e)?r.instance:e}r.instance=new s.oh("Etc/UTC")},76279:(e,t,i)=>{i.d(t,{$X:()=>y,Gy:()=>h,P5:()=>v,SW:()=>f,Tr:()=>m,VV:()=>n});i(19902);const s=(e,t,i)=>[t,i],r=(e,t,i)=>[t,i,e[2]],o=(e,t,i)=>[t,i,e[2],e[3]];function n(e){return e?{originPosition:"upper-left"===e.originPosition?"upperLeft":"lower-left"===e.originPosition?"lowerLeft":e.originPosition,scale:e.tolerance?[e.tolerance,e.tolerance]:[1,1],translate:null!=e.extent?[e.extent.xmin,e.extent.ymax]:[0,0]}:null}function l(e,t){let{scale:i,translate:s}=e;return Math.round((t-s[0])/i[0])}function a(e,t){let{scale:i,translate:s}=e;return Math.round((s[1]-t)/i[1])}function u(e,t){let{scale:i,translate:s}=e;return t*i[0]+s[0]}function d(e,t){let{scale:i,translate:s}=e;return s[1]-t*i[1]}function p(e,t,i){const s=new Array(i.length);if(!i.length)return s;const[r,o]=e.scale;let n=u(e,i[0][0]),l=d(e,i[0][1]);s[0]=t(i[0],n,l);for(let a=1;a<i.length;a++){const e=i[a];n+=e[0]*r,l-=e[1]*o,s[a]=t(e,n,l)}return s}function c(e,t,i){const s=new Array(i.length);for(let r=0;r<i.length;r++)s[r]=p(e,t,i[r]);return s}function h(e,t,i,s,r){return t.x=l(e,i.x),t.y=a(e,i.y),t!==i&&(s&&(t.z=i.z),r&&(t.m=i.m)),t}function f(e,t,i,n,l){return null!=i&&(t.points=function(e,t,i,n){return p(e,i?n?o:r:n?r:s,t)}(e,i.points,n,l)),t}function m(e,t,i,s,r){return null==i||(t.x=u(e,i.x),t.y=d(e,i.y),t!==i&&(s&&(t.z=i.z),r&&(t.m=i.m))),t}function y(e,t,i,n,l){return null!=i&&(t.rings=function(e,t,i,n){return c(e,i?n?o:r:n?r:s,t)}(e,i.rings,n,l)),t}function v(e,t,i,n,l){return null!=i&&(t.paths=function(e,t,i,n){return c(e,i?n?o:r:n?r:s,t)}(e,i.paths,n,l)),t}},11155:(e,t,i)=>{i.d(t,{M:()=>d});var s=i(35143),r=i(82111),o=i(53666),n=i(46053),l=(i(81806),i(76460),i(47249),i(85842)),a=i(53430),u=i(83982);const d=e=>{let t=class extends e{get timeInfo(){var e;const t=null===(e=this.associatedLayer)||void 0===e?void 0:e.timeInfo;if(null==t)return t;const i=t.clone();return(0,a.sv)(i,this.fieldsIndex),i}set timeInfo(e){(0,a.sv)(e,this.fieldsIndex),this._override("timeInfo",e)}get timeExtent(){var e;return null===(e=this.associatedLayer)||void 0===e?void 0:e.timeExtent}set timeExtent(e){this._override("timeExtent",e)}get timeOffset(){var e;return null===(e=this.associatedLayer)||void 0===e?void 0:e.timeOffset}set timeOffset(e){this._override("timeOffset",e)}get useViewTime(){var e,t;return null===(e=null===(t=this.associatedLayer)||void 0===t?void 0:t.useViewTime)||void 0===e||e}set useViewTime(e){this._override("useViewTime",e)}get datesInUnknownTimezone(){var e,t;return null!==(e=null===(t=this.associatedLayer)||void 0===t?void 0:t.datesInUnknownTimezone)&&void 0!==e&&e}set datesInUnknownTimezone(e){this._override("datesInUnknownTimezone",e)}};return(0,s._)([(0,n.MZ)({type:u.A})],t.prototype,"timeInfo",null),(0,s._)([(0,n.MZ)({type:r.A})],t.prototype,"timeExtent",null),(0,s._)([(0,n.MZ)({type:o.A})],t.prototype,"timeOffset",null),(0,s._)([(0,n.MZ)({type:Boolean,nonNullable:!0})],t.prototype,"useViewTime",null),(0,s._)([(0,n.MZ)({type:Boolean,nonNullable:!0})],t.prototype,"datesInUnknownTimezone",null),t=(0,s._)([(0,l.$)("esri.layers.mixins.TemporalSceneLayer")],t),t}},1900:(e,t,i)=>{i.d(t,{A:()=>c});var s=i(50076),r=i(42553),o=i(76460),n=i(87663),l=i(64920),a=i(53430),u=i(67478),d=i(24241);const p=new Map;class c{static fromJSON(e){return new c(e.fields,e.timeZoneByFieldName)}static fromLayer(e){var t;return new c(null!==(t=e.fields)&&void 0!==t?t:[],y(e))}static fromLayerJSON(e){var t;return new c(null!==(t=e.fields)&&void 0!==t?t:[],y(e))}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;this._fieldsMap=new Map,this._normalizedFieldsMap=new Map,this._dateFieldsSet=new Set,this._numericFieldsSet=new Set,this._requiredFields=null,this.dateFields=[],this.numericFields=[],this.fields=e||[],this._timeZoneByFieldName=t?new Map(t):null;const i=[];for(const r of this.fields){const e=null===r||void 0===r?void 0:r.name,t=f(e);if(e&&t){var s;const o=h(e);this._fieldsMap.set(e,r),this._fieldsMap.set(o,r),this._normalizedFieldsMap.set(t,r),i.push("".concat(o,":").concat(r.type,":").concat(null===(s=this._timeZoneByFieldName)||void 0===s?void 0:s.get(e))),(0,a.vE)(r)?(this.dateFields.push(r),this._dateFieldsSet.add(r)):(0,a.WA)(r)&&(this._numericFieldsSet.add(r),this.numericFields.push(r)),(0,a.te)(r)||(0,a.Xz)(r)||(r.editable=null==r.editable||!!r.editable,r.nullable=null==r.nullable||!!r.nullable)}}i.sort(),this.uid=i.join()}get requiredFields(){if(!this._requiredFields){this._requiredFields=[];for(const e of this.fields)(0,a.te)(e)||(0,a.Xz)(e)||e.nullable||void 0!==(0,a.lD)(e)||this._requiredFields.push(e)}return this._requiredFields}equals(e){return this.uid===(null===e||void 0===e?void 0:e.uid)}has(e){return null!=this.get(e)}get(e){var t;if(!e)return;let i=this._fieldsMap.get(e);return i||(i=null!==(t=this._fieldsMap.get(h(e)))&&void 0!==t?t:this._normalizedFieldsMap.get(f(e)),i&&this._fieldsMap.set(e,i),i)}getTimeZone(e){const t=this.get(e&&"string"!=typeof e?e.name:e);return t?this._timeZoneByFieldName?this._timeZoneByFieldName.get(t.name):"date"===t.type||"esriFieldTypeDate"===t.type?(o.A.getLogger("esri.layers.support.FieldsIndex").error(new s.A("getTimeZone:no-timezone-information","no time zone information for field '".concat(t.name,"'"))),u.n$):m.has(t.type)?u.L5:null:null}getLuxonTimeZone(e){const t=this.getTimeZone(e);return t?t===u.L5?l.GB.instance:t===u.n$?d.mQ.utcInstance:(0,n.tE)(p,t,(()=>d.oh.create(t))):null}isDateField(e){return this._dateFieldsSet.has(this.get(e))}isTimeOnlyField(e){return(0,a.OH)(this.get(e))}isNumericField(e){return this._numericFieldsSet.has(this.get(e))}normalizeFieldName(e){var t,i;return null!==(t=null===(i=this.get(e))||void 0===i?void 0:i.name)&&void 0!==t?t:void 0}toJSON(){return{fields:this.fields.map((e=>(0,r.Wj)(e)?e.toJSON():e)),timeZoneByFieldName:this._timeZoneByFieldName?Array.from(this._timeZoneByFieldName.entries()):null}}}function h(e){return e.trim().toLowerCase()}function f(e){var t,i;return null!==(t=null===(i=(0,a.rS)(e))||void 0===i?void 0:i.toLowerCase())&&void 0!==t?t:""}const m=new Set(["time-only","date-only","timestamp-offset","esriFieldTypeDateOnly","esriFieldTypeTimeOnly","esriFieldTypeTimestampOffset"]);function y(e){var t,i,s,r,o,n,l;const a=new Map;if(!e.fields)return a;const d=!0===e.datesInUnknownTimezone,{timeInfo:p,editFieldsInfo:c}=e,f=null!==(t=p?"startField"in p?p.startField:p.startTimeField:"")&&void 0!==t?t:"",y=null!==(i=p?"endField"in p?p.endField:p.endTimeField:"")&&void 0!==i?i:"",v=function(e){return"dateFieldsTimeZone"in e}(e)?null!==(s=e.dateFieldsTimeZone)&&void 0!==s?s:null:e.dateFieldsTimeReference?(0,u.ZS)(e.dateFieldsTimeReference):null,_=c?function(e){return"timeZone"in e}(c)?null!==(r=c.timeZone)&&void 0!==r?r:v:c.dateFieldsTimeReference?(0,u.ZS)(c.dateFieldsTimeReference):null!==v&&void 0!==v?v:u.n$:null,g=p?function(e){return"timeZone"in e}(p)?null!==(o=p.timeZone)&&void 0!==o?o:v:p.timeReference?(0,u.ZS)(p.timeReference):v:null,S=new Map([[h(null!==(n=null===c||void 0===c?void 0:c.creationDateField)&&void 0!==n?n:""),_],[h(null!==(l=null===c||void 0===c?void 0:c.editDateField)&&void 0!==l?l:""),_],[h(f),g],[h(y),g]]);for(const{name:z,type:w}of e.fields)if(m.has(w))a.set(z,u.L5);else if("date"!==w&&"esriFieldTypeDate"!==w)a.set(z,null);else if(d)a.set(z,u.L5);else{var x;const e=null!==(x=S.get(h(null!==z&&void 0!==z?z:"")))&&void 0!==x?x:v;a.set(z,e)}return a}},2395:(e,t,i)=>{i.d(t,{L0:()=>v,Ot:()=>h,W4:()=>a,uV:()=>p});var s=i(35143),r=i(42553),o=i(46053),n=(i(81806),i(76460),i(47249),i(6409)),l=i(85842);let a=class extends r.oY{constructor(){super(...arguments),this.nodesPerPage=null,this.rootIndex=0,this.lodSelectionMetricType=null}};(0,s._)([(0,o.MZ)({type:Number})],a.prototype,"nodesPerPage",void 0),(0,s._)([(0,o.MZ)({type:Number})],a.prototype,"rootIndex",void 0),(0,s._)([(0,o.MZ)({type:String})],a.prototype,"lodSelectionMetricType",void 0),a=(0,s._)([(0,l.$)("esri.layer.support.I3SNodePageDefinition")],a);let u=class extends r.oY{constructor(){super(...arguments),this.factor=1}};(0,s._)([(0,o.MZ)({type:Number,json:{read:{source:"textureSetDefinitionId"}}})],u.prototype,"id",void 0),(0,s._)([(0,o.MZ)({type:Number})],u.prototype,"factor",void 0),u=(0,s._)([(0,l.$)("esri.layer.support.I3SMaterialTexture")],u);let d=class extends r.oY{constructor(){super(...arguments),this.baseColorFactor=[1,1,1,1],this.baseColorTexture=null,this.metallicRoughnessTexture=null,this.metallicFactor=1,this.roughnessFactor=1}};(0,s._)([(0,o.MZ)({type:[Number]})],d.prototype,"baseColorFactor",void 0),(0,s._)([(0,o.MZ)({type:u})],d.prototype,"baseColorTexture",void 0),(0,s._)([(0,o.MZ)({type:u})],d.prototype,"metallicRoughnessTexture",void 0),(0,s._)([(0,o.MZ)({type:Number})],d.prototype,"metallicFactor",void 0),(0,s._)([(0,o.MZ)({type:Number})],d.prototype,"roughnessFactor",void 0),d=(0,s._)([(0,l.$)("esri.layer.support.I3SMaterialPBRMetallicRoughness")],d);let p=class extends r.oY{constructor(){super(...arguments),this.alphaMode="opaque",this.alphaCutoff=.25,this.doubleSided=!1,this.cullFace="none",this.normalTexture=null,this.occlusionTexture=null,this.emissiveTexture=null,this.emissiveFactor=null,this.pbrMetallicRoughness=null}};(0,s._)([(0,n.e)({opaque:"opaque",mask:"mask",blend:"blend"})],p.prototype,"alphaMode",void 0),(0,s._)([(0,o.MZ)({type:Number})],p.prototype,"alphaCutoff",void 0),(0,s._)([(0,o.MZ)({type:Boolean})],p.prototype,"doubleSided",void 0),(0,s._)([(0,n.e)({none:"none",back:"back",front:"front"})],p.prototype,"cullFace",void 0),(0,s._)([(0,o.MZ)({type:u})],p.prototype,"normalTexture",void 0),(0,s._)([(0,o.MZ)({type:u})],p.prototype,"occlusionTexture",void 0),(0,s._)([(0,o.MZ)({type:u})],p.prototype,"emissiveTexture",void 0),(0,s._)([(0,o.MZ)({type:[Number]})],p.prototype,"emissiveFactor",void 0),(0,s._)([(0,o.MZ)({type:d})],p.prototype,"pbrMetallicRoughness",void 0),p=(0,s._)([(0,l.$)("esri.layer.support.I3SMaterialDefinition")],p);let c=class extends r.oY{};(0,s._)([(0,o.MZ)({type:String,json:{read:{source:["name","index"],reader:(e,t)=>null!=e?e:"".concat(t.index)}}})],c.prototype,"name",void 0),(0,s._)([(0,n.e)({jpg:"jpg",png:"png",dds:"dds","ktx-etc2":"ktx-etc2",ktx2:"ktx2",basis:"basis"})],c.prototype,"format",void 0),c=(0,s._)([(0,l.$)("esri.layer.support.I3STextureFormat")],c);let h=class extends r.oY{constructor(){super(...arguments),this.atlas=!1}};(0,s._)([(0,o.MZ)({type:[c]})],h.prototype,"formats",void 0),(0,s._)([(0,o.MZ)({type:Boolean})],h.prototype,"atlas",void 0),h=(0,s._)([(0,l.$)("esri.layer.support.I3STextureSetDefinition")],h);let f=class extends r.oY{};(0,s._)([(0,n.e)({Float32:"Float32",UInt64:"UInt64",UInt32:"UInt32",UInt16:"UInt16",UInt8:"UInt8"})],f.prototype,"type",void 0),(0,s._)([(0,o.MZ)({type:Number})],f.prototype,"component",void 0),f=(0,s._)([(0,l.$)("esri.layer.support.I3SGeometryAttribute")],f);let m=class extends r.oY{};(0,s._)([(0,n.e)({draco:"draco"})],m.prototype,"encoding",void 0),(0,s._)([(0,o.MZ)({type:[String]})],m.prototype,"attributes",void 0),m=(0,s._)([(0,l.$)("esri.layer.support.I3SGeometryCompressedAttributes")],m);let y=class extends r.oY{constructor(){super(...arguments),this.offset=0}};(0,s._)([(0,o.MZ)({type:Number})],y.prototype,"offset",void 0),(0,s._)([(0,o.MZ)({type:f})],y.prototype,"position",void 0),(0,s._)([(0,o.MZ)({type:f})],y.prototype,"normal",void 0),(0,s._)([(0,o.MZ)({type:f})],y.prototype,"uv0",void 0),(0,s._)([(0,o.MZ)({type:f})],y.prototype,"color",void 0),(0,s._)([(0,o.MZ)({type:f})],y.prototype,"uvRegion",void 0),(0,s._)([(0,o.MZ)({type:f})],y.prototype,"featureId",void 0),(0,s._)([(0,o.MZ)({type:f})],y.prototype,"faceRange",void 0),(0,s._)([(0,o.MZ)({type:m})],y.prototype,"compressedAttributes",void 0),y=(0,s._)([(0,l.$)("esri.layer.support.I3SGeometryBuffer")],y);let v=class extends r.oY{};(0,s._)([(0,n.e)({triangle:"triangle"})],v.prototype,"topology",void 0),(0,s._)([(0,o.MZ)()],v.prototype,"geometryBuffers",void 0),v=(0,s._)([(0,l.$)("esri.layer.support.I3SGeometryDefinition")],v)},5618:(e,t,i)=>{i.d(t,{A:()=>d});var s,r=i(35143),o=i(94643),n=i(42553),l=i(46053),a=(i(81806),i(76460),i(47249),i(85842));let u=s=class extends n.oY{constructor(e){super(e),this.floorField=null,this.viewAllMode=!1,this.viewAllLevelIds=new o.A}clone(){return new s({floorField:this.floorField,viewAllMode:this.viewAllMode,viewAllLevelIds:this.viewAllLevelIds})}};(0,r._)([(0,l.MZ)({type:String,json:{write:!0}})],u.prototype,"floorField",void 0),(0,r._)([(0,l.MZ)({json:{read:!1,write:!1}})],u.prototype,"viewAllMode",void 0),(0,r._)([(0,l.MZ)({json:{read:!1,write:!1}})],u.prototype,"viewAllLevelIds",void 0),u=s=(0,r._)([(0,a.$)("esri.layers.support.LayerFloorInfo")],u);const d=u},39323:(e,t,i)=>{i.d(t,{L:()=>d});var s=i(55171),r=i(3825),o=i(50076),n=i(50346),l=i(13096),a=i(65308),u=i(70652);async function d(e,t){var i,d;const h=(0,l.qg)(e);if(!h)throw new o.A("invalid-url","Invalid scene service url");const f={...t,sceneServerUrl:h.url.path,layerId:null!==(i=h.sublayer)&&void 0!==i?i:void 0};if(null!==(d=f.sceneLayerItem)&&void 0!==d||(f.sceneLayerItem=await async function(e){const t=(await p(e)).serviceItemId;if(!t)return null;const i=new u.default({id:t,apiKey:e.apiKey}),o=await async function(e){const t=null===s.id||void 0===s.id?void 0:s.id.findServerInfo(e.sceneServerUrl);if(null!==t&&void 0!==t&&t.owningSystemUrl)return t.owningSystemUrl;const i=e.sceneServerUrl.replace(/(.*\/rest)\/.*/i,"$1")+"/info";try{const t=(await(0,r.A)(i,{query:{f:"json"},responseType:"json",signal:e.signal})).data.owningSystemUrl;if(t)return t}catch(m){(0,n.QP)(m)}return null}(e);null!=o&&(i.portal=new a.A({url:o}));try{return i.load({signal:e.signal})}catch(y){return(0,n.QP)(y),null}}(f)),null==f.sceneLayerItem)return c(f.sceneServerUrl.replace("/SceneServer","/FeatureServer"),f);const m=await async function(e){let{sceneLayerItem:t,signal:i}=e;if(!t)return null;try{const e=(await t.fetchRelatedItems({relationshipType:"Service2Service",direction:"reverse"},{signal:i})).find((e=>"Feature Service"===e.type))||null;if(!e)return null;const s=new u.default({portal:e.portal,id:e.id});return await s.load(),s}catch(s){return(0,n.QP)(s),null}}(f);if(null===m||void 0===m||!m.url)throw new o.A("related-service-not-found","Could not find feature service through portal item relationship");f.featureServiceItem=m;const y=await c(m.url,f);return y.portalItem=m,y}async function p(e){if(e.rootDocument)return e.rootDocument;const t={query:{f:"json",...e.customParameters,token:e.apiKey},responseType:"json",signal:e.signal};try{const i=await(0,r.A)(e.sceneServerUrl,t);e.rootDocument=i.data}catch{e.rootDocument={}}return e.rootDocument}async function c(e,t){var i,s,n;const a=(0,l.qg)(e);if(!a)throw new o.A("invalid-feature-service-url","Invalid feature service url");const u=a.url.path,d=t.layerId;if(null==d)return{serverUrl:u};const c=p(t),h=t.featureServiceItem?await t.featureServiceItem.fetchData("json"):null,f=null===(i=(null===h||void 0===h||null===(s=h.layers)||void 0===s?void 0:s[0])||(null===h||void 0===h||null===(n=h.tables)||void 0===n?void 0:n[0]))||void 0===i?void 0:i.customParameters,m=e=>{const i={query:{f:"json",...f},responseType:"json",authMode:e,signal:t.signal};return(0,r.A)(u,i)},y=m("anonymous").catch((()=>m("no-prompt"))),[v,_]=await Promise.all([y,c]),g=null===_||void 0===_?void 0:_.layers,S=v.data&&v.data.layers;if(!Array.isArray(S))throw new Error("expected layers array");if(Array.isArray(g)){for(let r=0;r<Math.min(g.length,S.length);r++)if(g[r].id===d)return{serverUrl:u,layerId:S[r].id}}else if(null!=d&&d<S.length)return{serverUrl:u,layerId:S[d].id};throw new Error("could not find matching associated sublayer")}},16981:(e,t,i)=>{i.d(t,{P:()=>s});const s={analytics:{supportsCacheHint:!1},attachment:{supportsContentType:!1,supportsExifInfo:!1,supportsKeywords:!1,supportsName:!1,supportsSize:!1,supportsCacheHint:!1,supportsResize:!1},data:{isVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:!1},editing:{supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsGeometryUpdate:!1,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsAsyncApplyEdits:!1,zDefault:void 0},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:!1,supportsDelete:!1,supportsEditing:!1,supportsChangeTracking:!1,supportsQuery:!1,supportsQueryAnalytics:!1,supportsQueryAttachments:!1,supportsQueryTopFeatures:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:!1,supportsExceedsLimitStatistics:!1,supportsAsyncConvert3D:!1},queryRelated:{supportsCount:!1,supportsOrderBy:!1,supportsPagination:!1,supportsCacheHint:!1},queryTopFeatures:{supportsCacheHint:!1},query:{maxRecordCount:0,maxRecordCountFactor:0,standardMaxRecordCount:0,supportsCacheHint:!1,supportsCentroid:!1,supportsCompactGeometry:!1,supportsDefaultSpatialReference:!1,supportsFullTextSearch:!1,supportsDisjointSpatialRelationship:!1,supportsDistance:!1,supportsDistinct:!1,supportsExtent:!1,supportsFormatPBF:!1,supportsGeometryProperties:!1,supportsHavingClause:!1,supportsHistoricMoment:!1,supportsMaxRecordCountFactor:!1,supportsOrderBy:!1,supportsPagination:!1,supportsPercentileStatistics:!1,supportsQuantization:!1,supportsQuantizationEditMode:!1,supportsQueryByAnonymous:!1,supportsQueryByOthers:!1,supportsQueryGeometry:!1,supportsResultType:!1,supportsSqlExpression:!1,supportsStandardizedQueriesOnly:!1,supportsTopFeaturesQuery:!1,supportsSpatialAggregationStatistics:!1,supportedSpatialAggregationStatistics:{envelope:!1,centroid:!1,convexHull:!1},supportsStatistics:!1,tileMaxRecordCount:0}}},65460:(e,t,i)=>{i.d(t,{BI:()=>y,D3:()=>f,XJ:()=>m,lc:()=>h,mX:()=>_,rU:()=>v,tH:()=>w});var s=i(88685);const r="__begin__",o="__end__",n=new RegExp(r,"ig"),l=new RegExp(o,"ig"),a=new RegExp("^"+r,"i"),u=new RegExp(o+"$","i"),d='"',p=d+" + ",c=" + "+d;function h(e){return e.replaceAll(new RegExp("\\[","g"),"{").replaceAll(new RegExp("\\]","g"),"}")}function f(e){return e.replaceAll(new RegExp("\\{","g"),"[").replaceAll(new RegExp("\\}","g"),"]")}function m(e){const t={expression:"",type:"none"};return e.labelExpressionInfo?e.labelExpressionInfo.value?(t.expression=e.labelExpressionInfo.value,t.type="conventional"):e.labelExpressionInfo.expression&&(t.expression=e.labelExpressionInfo.expression,t.type="arcade"):null!=e.labelExpression&&(t.expression=h(e.labelExpression),t.type="conventional"),t}function y(e){const t=m(e);if(!t)return null;switch(t.type){case"conventional":return _(t.expression);case"arcade":return t.expression}return null}function v(e){const t=m(e);if(!t)return null;switch(t.type){case"conventional":return function(e){const t=null===e||void 0===e?void 0:e.match(g);return(null===t||void 0===t?void 0:t[1].trim())||null}(t.expression);case"arcade":return w(t.expression)}return null}function _(e){let t;return e?(t=(0,s.HC)(e,(e=>r+'$feature["'+e+'"]'+o)),t=a.test(t)?t.replace(a,""):d+t,t=u.test(t)?t.replace(u,""):t+d,t=t.replaceAll(n,p).replaceAll(l,c)):t='""',t}const g=/^\s*\{([^}]+)\}\s*$/i;const S=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*$/i,x=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,z=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])([\w\s]+)(\1)\s*\));?\s*$/i;function w(e){if(!e)return null;let t=S.exec(e)||x.exec(e);return t?t[1]||t[3]:(t=z.exec(e),t?t[2]:null)}},4414:(e,t,i)=>{i.d(t,{O3:()=>p,PU:()=>u,YW:()=>h,ex:()=>l,hv:()=>c,zp:()=>a});var s=i(15941),r=i(76931),o=i(43047),n=i(55855);const l=2.4;function a(e){return(0,r.PN)(e*l)}function u(e){return(0,r.Lz)(e)/l}function d(e,t,i,r){let{color:n,ratio:l}=t,{color:a,ratio:u}=i;if(u===l){const e=1e-6;1===u?l-=e:u+=e}const d=(0,s.qE)((r-l)/(u-l),0,1);(0,o.l)(e,n.toArray(),a.toArray(),d)}function p(e){const t=new Uint8ClampedArray(2048);if(e=e.filter((e=>{let{ratio:t}=e;return t>=0&&t<=1})).sort(((e,t)=>e.ratio-t.ratio)).map((e=>{let{color:t,ratio:i}=e;return{color:t,ratio:Math.max(i,.001)}})),e.length<1)return t;let i=e[0],s=e[0],r=1;const o=(0,n.vt)();for(let n=0;n<512;n++){const l=(n+.5)/512;for(;l>s.ratio&&r<e.length;)i=s,s=e[r++];d(o,i,s,l),t.set(o,4*n)}return t}function c(e,t,i){const s=Math.sqrt(e**2+t**2)/i;return s>1?0:3/(Math.PI*i**2)*(1-s**2)**2}function h(e){return"function"==typeof e?e:e?t=>+t[e]:()=>1}},12482:(e,t,i)=>{i.d(t,{$7:()=>n,B:()=>o,XF:()=>a,tW:()=>l,w7:()=>r});i(31633),i(59097);function s(e){return e?u:d}function r(e,t){return function(e,t){return null!==t&&void 0!==t&&t.mode?t.mode:s(e).mode}(null!=e&&e.hasZ,t)}function o(e,t,i){return i&&i.mode!==t?"".concat(e," only support ").concat(t," elevation mode"):null}function n(e,t,i){return(null===i||void 0===i?void 0:i.mode)===t?"".concat(e," do not support ").concat(t," elevation mode"):null}function l(e,t){return null!=(null===t||void 0===t?void 0:t.featureExpressionInfo)&&"0"!==t.featureExpressionInfo.expression?"".concat(e," do not support featureExpressionInfo"):null}function a(e,t){t&&e.warn(".elevationInfo=",t)}const u={mode:"absolute-height",offset:0},d={mode:"on-the-ground",offset:null}},84202:(e,t,i)=>{i.d(t,{A7:()=>u,Cx:()=>d,Hk:()=>p,JJ:()=>f,UK:()=>a,jM:()=>c,x3:()=>h});i(81806);var s=i(86875),r=i(7246),o=i(76940),n=i(86659),l=i(44460);const a=o.A.fromJSON(l.Cb),u=r.A.fromJSON(l.yM),d=s.A.fromJSON(l.WR),p=n.A.fromJSON(l.JZ);const c=o.A.fromJSON(l.nC),h=r.A.fromJSON(l.HW),f=s.A.fromJSON(l.b6)},44460:(e,t,i)=>{i.d(t,{Cb:()=>r,HW:()=>u,JZ:()=>l,WR:()=>n,b6:()=>d,nC:()=>a,yM:()=>o});const s=[252,146,31,255],r={type:"esriSMS",style:"esriSMSCircle",size:6,color:s,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},o={type:"esriSLS",style:"esriSLSSolid",width:.75,color:s},n={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},l={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},a={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},u={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},d={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null}},2257:(e,t,i)=>{i.d(t,{D8:()=>o,TO:()=>r});var s=i(53430);async function r(e){var t,i;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.popupTemplate;if(null==r)return[];const o=await r.getRequiredFields(e.fieldsIndex),{lastEditInfoEnabled:n}=r,{objectIdField:l,typeIdField:a,globalIdField:u,relationships:d}=e;if(o.includes("*"))return["*"];const p=n?(0,s.eX)(e):[],c=(0,s.DB)(e.fieldsIndex,[...o,...p]);return a&&c.push(a),c&&l&&null!==(t=e.fieldsIndex)&&void 0!==t&&t.has(l)&&!c.includes(l)&&c.push(l),c&&u&&null!==(i=e.fieldsIndex)&&void 0!==i&&i.has(u)&&!c.includes(u)&&c.push(u),d&&d.forEach((t=>{var i;const{keyField:s}=t;c&&s&&(null===(i=e.fieldsIndex)||void 0===i?void 0:i.has(s))&&!c.includes(s)&&c.push(s)})),c}function o(e,t){return e.popupTemplate?e.popupTemplate:null!=t&&t.defaultPopupTemplateEnabled&&null!=e.defaultPopupTemplate?e.defaultPopupTemplate:null}}}]);
//# sourceMappingURL=7591.49d20a54.chunk.js.map